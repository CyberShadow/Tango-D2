<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>tango.core.tools.StackTrace</title>
  <link href="css/style.css" rel="stylesheet" type="text/css"/>
  <!-- no favicon -->
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/utilities.js"></script>
  <script type="text/javascript" src="js/symbols.js"></script>
  <script type="text/javascript" src="js/modules.js"></script>
  <script type="text/javascript" src="js/quicksearch.js"></script>
  <script type="text/javascript" src="js/treeview.js"></script>
  <script type="text/javascript" src="js/navigation.js"></script>
</head>
<body id="tango.core.tools.StackTrace">
<div id="kandil-content">
<div class="module">
  <h1 class="module" id="m-tango.core.tools.StackTrace"><a href="htmlsrc/tango.core.tools.StackTrace.html" class="symbol">tango.core.tools.StackTrace</a></h1>

<div class="summary"><div class="cmnt">Stacktracing</div></div>
<div class="cmnt">Functions to generate a stacktrace.</div>
<p class="sec_header">License:</p><div class="cmnt">Tango License</div>
<p class="sec_header">Author:</p><div class="cmnt">Fawzi Mohamed</div>
<dl>
<dt class="decl"><span class="rettyp">void</span> <a class="symbol _function" name="rt_setAddrBacktraceFnc" href="htmlsrc/tango.core.tools.StackTrace.html#L62">rt_setAddrBacktraceFnc</a><span class="params">(AddrBacktraceFunc <em>f</em>)</span> <span class="attrs">[<span class="linkg">extern(C)</span>]</span> <a href="tango.core.tools.StackTrace.html#rt_setAddrBacktraceFnc" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">sets the function used for address stacktraces</div></div></dd>
<dt class="decl"><span class="rettyp">void</span> <a class="symbol _function" name="rt_setSymbolizeFrameInfoFnc" href="htmlsrc/tango.core.tools.StackTrace.html#L66">rt_setSymbolizeFrameInfoFnc</a><span class="params">(SymbolizeFrameInfoFnc <em>f</em>)</span> <span class="attrs">[<span class="linkg">extern(C)</span>]</span> <a href="tango.core.tools.StackTrace.html#rt_setSymbolizeFrameInfoFnc" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">sets the function used to symbolize a FrameInfo</div></div></dd>
<dt class="decl"><span class="rettyp">Exception.TraceInfo</span> <a class="symbol _function" name="rt_createTraceContext" href="htmlsrc/tango.core.tools.StackTrace.html#L70">rt_createTraceContext</a><span class="params">(void* <em>ptr</em>)</span> <span class="attrs">[<span class="linkg">extern(C)</span>]</span> <a href="tango.core.tools.StackTrace.html#rt_createTraceContext" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">creates a stack trace (defined in the runtime)</div></div></dd>
<dt class="decl"><span class="rettyp">size_t</span> <a class="symbol _function" name="rt_addrBacktrace" href="htmlsrc/tango.core.tools.StackTrace.html#L77">rt_addrBacktrace</a><span class="params">(TraceContext* <em>context</em>, TraceContext* <em>contextOut</em>, size_t* <em>traceBuf</em>, size_t <em>bufLength</em>, int* <em>flags</em>)</span> <span class="attrs">[<span class="linkg">extern(C)</span>]</span> <a href="tango.core.tools.StackTrace.html#rt_addrBacktrace" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">builds a backtrace of addresses, the addresses are addresses of the *next* instruction,
 *return* addresses, the most likely the calling instruction is the one before them
 (stack top excluded)</div></div></dd>
<dt class="decl"><span class="rettyp">bool</span> <a class="symbol _function" name="rt_symbolizeFrameInfo" href="htmlsrc/tango.core.tools.StackTrace.html#L89">rt_symbolizeFrameInfo</a><span class="params">(<span class="k">ref</span> FrameInfo <em>fInfo</em>, const(TraceContext)* <em>context</em>, char[] <em>buf</em>)</span> <span class="attrs">[<span class="linkg">extern(C)</span>]</span> <a href="tango.core.tools.StackTrace.html#rt_symbolizeFrameInfo" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">tries to sybolize a frame information, this should try to build the best
 backtrace information, if possible finding the calling context, thus
 if fInfo.exactAddress is false the address might be changed to the one preceding it
 returns true if it managed to at least find the function name</div></div></dd>
<dt class="decl"><span class="rettyp">const(char)[]</span> <a class="symbol _function" name="nameOfFunctionAt" href="htmlsrc/tango.core.tools.StackTrace.html#L162">nameOfFunctionAt</a><span class="params">(void* <em>addr</em>, char[] <em>buf</em>)</span> <a href="tango.core.tools.StackTrace.html#nameOfFunctionAt" class="plink">¶</a></dt>
<dt class="decl"><span class="rettyp">const(char)[]</span> <a class="symbol _function" name="nameOfFunctionAt:2" href="htmlsrc/tango.core.tools.StackTrace.html#L173">nameOfFunctionAt</a><span class="params">(void* <em>addr</em>)</span> <a href="tango.core.tools.StackTrace.html#nameOfFunctionAt:2" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">returns the name of the function at the given adress (if possible)
 function@ and then the address. For delegates you can use .funcptr
 does not demangle</div></div></dd>
<dt class="decl"><span class="kw">enum</span> <a class="symbol _enum" name="AddrPrecision" href="htmlsrc/tango.core.tools.StackTrace.html#L179">AddrPrecision</a> <a href="tango.core.tools.StackTrace.html#AddrPrecision" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">precision of the addresses given by the backtrace function</div></div>
</dd>
<dt class="decl"><span class="kw">class</span> <a class="symbol _class" name="BasicTraceInfo" href="htmlsrc/tango.core.tools.StackTrace.html#L186">BasicTraceInfo</a> : <span class="bclass">Throwable.TraceInfo</span> <a href="tango.core.tools.StackTrace.html#BasicTraceInfo" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">basic class that represents a stacktrace</div></div>
<dl>
<dt class="decl"><a class="symbol _ctor" name="BasicTraceInfo.this" href="htmlsrc/tango.core.tools.StackTrace.html#L192">this</a><span class="params">()</span> <a href="tango.core.tools.StackTrace.html#BasicTraceInfo.this" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">cretes an empty stacktrace</div></div></dd>
<dt class="decl"><a class="symbol _ctor" name="BasicTraceInfo.this:2" href="htmlsrc/tango.core.tools.StackTrace.html#L194">this</a><span class="params">(size_t[] <em>traceAddresses</em>, AddrPrecision <em>addrPrecision</em>)</span> <a href="tango.core.tools.StackTrace.html#BasicTraceInfo.this:2" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">creates a stacktrace with the given traceAddresses</div></div></dd>
<dt class="decl"><span class="rettyp">void</span> <a class="symbol _function" name="BasicTraceInfo.trace" href="htmlsrc/tango.core.tools.StackTrace.html#L204">trace</a><span class="params">(TraceContext* <em>contextIn</em> = <span class="defval"><span class="k">null</span></span>, int <em>skipFrames</em> = <span class="defval"><span class="n">0</span></span>)</span> <a href="tango.core.tools.StackTrace.html#BasicTraceInfo.trace" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">takes a stacktrace</div></div></dd>
<dt class="decl"><span class="rettyp">int</span> <a class="symbol _function" name="BasicTraceInfo.opApply" href="htmlsrc/tango.core.tools.StackTrace.html#L213">opApply</a><span class="params">(<span class="k">scope</span> int delegate(ref const(char[])) <em>dg</em>)</span> <span class="attrs">[<span class="stc">override</span>, <span class="stc">const</span>]</span> <a href="tango.core.tools.StackTrace.html#BasicTraceInfo.opApply" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">loops on the stacktrace</div></div></dd>
<dt class="decl"><span class="rettyp">void</span> <a class="symbol _function" name="BasicTraceInfo.writeOut" href="htmlsrc/tango.core.tools.StackTrace.html#L267">writeOut</a><span class="params">(<span class="k">scope</span> void delegate(const(char[])) <em>sink</em>)</span> <span class="attrs">[<span class="stc">const</span>]</span> <a href="tango.core.tools.StackTrace.html#BasicTraceInfo.writeOut" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">Writes out the stacktrace.</div></div></dd></dl></dd>
<dt class="decl"><span class="rettyp">size_t</span> <a class="symbol _function" name="defaultAddrBacktrace" href="htmlsrc/tango.core.tools.StackTrace.html#L302">defaultAddrBacktrace</a><span class="params">(TraceContext* <em>context</em>, TraceContext* <em>contextOut</em>, size_t* <em>traceBuf</em>, size_t <em>length</em>, int* <em>flags</em>)</span> <a href="tango.core.tools.StackTrace.html#defaultAddrBacktrace" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">default (tango given) backtrace function</div></div></dd>
<dt class="decl"><span class="rettyp">bool</span> <a class="symbol _function" name="dladdrSymbolizeFrameInfo" href="htmlsrc/tango.core.tools.StackTrace.html#L326">dladdrSymbolizeFrameInfo</a><span class="params">(<span class="k">ref</span> FrameInfo <em>fInfo</em>, const(TraceContext)* <em>context</em>, char[] <em>buf</em>)</span> <a href="tango.core.tools.StackTrace.html#dladdrSymbolizeFrameInfo" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">poor symbolication, uses dladdr, gives no line info, limited info on statically linked files</div></div></dd>
<dt class="decl"><span class="rettyp">bool</span> <a class="symbol _function" name="defaultSymbolizeFrameInfo" href="htmlsrc/tango.core.tools.StackTrace.html#L392">defaultSymbolizeFrameInfo</a><span class="params">(<span class="k">ref</span> FrameInfo <em>fInfo</em>, const(TraceContext)* <em>context</em>, char[] <em>buf</em>)</span> <a href="tango.core.tools.StackTrace.html#defaultSymbolizeFrameInfo" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">loads symbols for the given frame info with the methods defined in tango itself</div></div></dd>
<dt class="decl"><span class="rettyp">Exception.TraceInfo</span> <a class="symbol _function" name="basicTracer" href="htmlsrc/tango.core.tools.StackTrace.html#L405">basicTracer</a><span class="params">(void* <em>ptr</em> = <span class="defval"><span class="k">null</span></span>)</span> <a href="tango.core.tools.StackTrace.html#basicTracer" class="plink">¶</a></dt>
<dd class="ddef">
<div class="summary"><div class="cmnt">function that generates a trace (handler compatible with old TraceInfo)</div></div></dd></dl>
</div>
<div id="kandil-footer">
  <p>Copyright (C) 2009 Fawzi</p>
  <p>Page generated by <a href="http://code.google.com/p/dil">DIL</a> on Tue Aug 21 02:56:44 2012. Rendered by <a href="http://code.google.com/p/dil/wiki/Kandil">Kandil</a>.</p>
</div>
</div>
</body>
</html>