<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
	<head>
		<link rel="stylesheet" href="style.css" type="text/css" />
		<title>stdc/posix/signal.d</title>
	</head>
	<body>

<table id='dcode'><tr><td id='lnum'><pre><span>1</span>
<span>2</span>
<span>3</span>
<span>4</span>
<span>5</span>
<span>6</span>
<span>7</span>
<span>8</span>
<span>9</span>
<span>10</span>
<span>11</span>
<span>12</span>
<span>13</span>
<span>14</span>
<span>15</span>
<span>16</span>
<span>17</span>
<span>18</span>
<span>19</span>
<span>20</span>
<span>21</span>
<span>22</span>
<span>23</span>
<span>24</span>
<span>25</span>
<span>26</span>
<span>27</span>
<span>28</span>
<span>29</span>
<span>30</span>
<span>31</span>
<span>32</span>
<span>33</span>
<span>34</span>
<span>35</span>
<span>36</span>
<span>37</span>
<span>38</span>
<span>39</span>
<span>40</span>
<span>41</span>
<span>42</span>
<span>43</span>
<span>44</span>
<span>45</span>
<span>46</span>
<span>47</span>
<span>48</span>
<span>49</span>
<span>50</span>
<span>51</span>
<span>52</span>
<span>53</span>
<span>54</span>
<span>55</span>
<span>56</span>
<span>57</span>
<span>58</span>
<span>59</span>
<span>60</span>
<span>61</span>
<span>62</span>
<span>63</span>
<span>64</span>
<span>65</span>
<span>66</span>
<span>67</span>
<span>68</span>
<span>69</span>
<span>70</span>
<span>71</span>
<span>72</span>
<span>73</span>
<span>74</span>
<span>75</span>
<span>76</span>
<span>77</span>
<span>78</span>
<span>79</span>
<span>80</span>
<span>81</span>
<span>82</span>
<span>83</span>
<span>84</span>
<span>85</span>
<span>86</span>
<span>87</span>
<span>88</span>
<span>89</span>
<span>90</span>
<span>91</span>
<span>92</span>
<span>93</span>
<span>94</span>
<span>95</span>
<span>96</span>
<span>97</span>
<span>98</span>
<span>99</span>
<span>100</span>
<span>101</span>
<span>102</span>
<span>103</span>
<span>104</span>
<span>105</span>
<span>106</span>
<span>107</span>
<span>108</span>
<span>109</span>
<span>110</span>
<span>111</span>
<span>112</span>
<span>113</span>
<span>114</span>
<span>115</span>
<span>116</span>
<span>117</span>
<span>118</span>
<span>119</span>
<span>120</span>
<span>121</span>
<span>122</span>
<span>123</span>
<span>124</span>
<span>125</span>
<span>126</span>
<span>127</span>
<span>128</span>
<span>129</span>
<span>130</span>
<span>131</span>
<span>132</span>
<span>133</span>
<span>134</span>
<span>135</span>
<span>136</span>
<span>137</span>
<span>138</span>
<span>139</span>
<span>140</span>
<span>141</span>
<span>142</span>
<span>143</span>
<span>144</span>
<span>145</span>
<span>146</span>
<span>147</span>
<span>148</span>
<span>149</span>
<span>150</span>
<span>151</span>
<span>152</span>
<span>153</span>
<span>154</span>
<span>155</span>
<span>156</span>
<span>157</span>
<span>158</span>
<span>159</span>
<span>160</span>
<span>161</span>
<span>162</span>
<span>163</span>
<span>164</span>
<span>165</span>
<span>166</span>
<span>167</span>
<span>168</span>
<span>169</span>
<span>170</span>
<span>171</span>
<span>172</span>
<span>173</span>
<span>174</span>
<span>175</span>
<span>176</span>
<span>177</span>
<span>178</span>
<span>179</span>
<span>180</span>
<span>181</span>
<span>182</span>
<span>183</span>
<span>184</span>
<span>185</span>
<span>186</span>
<span>187</span>
<span>188</span>
<span>189</span>
<span>190</span>
<span>191</span>
<span>192</span>
<span>193</span>
<span>194</span>
<span>195</span>
<span>196</span>
<span>197</span>
<span>198</span>
<span>199</span>
<span>200</span>
<span>201</span>
<span>202</span>
<span>203</span>
<span>204</span>
<span>205</span>
<span>206</span>
<span>207</span>
<span>208</span>
<span>209</span>
<span>210</span>
<span>211</span>
<span>212</span>
<span>213</span>
<span>214</span>
<span>215</span>
<span>216</span>
<span>217</span>
<span>218</span>
<span>219</span>
<span>220</span>
<span>221</span>
<span>222</span>
<span>223</span>
<span>224</span>
<span>225</span>
<span>226</span>
<span>227</span>
<span>228</span>
<span>229</span>
<span>230</span>
<span>231</span>
<span>232</span>
<span>233</span>
<span>234</span>
<span>235</span>
<span>236</span>
<span>237</span>
<span>238</span>
<span>239</span>
<span>240</span>
<span>241</span>
<span>242</span>
<span>243</span>
<span>244</span>
<span>245</span>
<span>246</span>
<span>247</span>
<span>248</span>
<span>249</span>
<span>250</span>
<span>251</span>
<span>252</span>
<span>253</span>
<span>254</span>
<span>255</span>
<span>256</span>
<span>257</span>
<span>258</span>
<span>259</span>
<span>260</span>
<span>261</span>
<span>262</span>
<span>263</span>
<span>264</span>
<span>265</span>
<span>266</span>
<span>267</span>
<span>268</span>
<span>269</span>
<span>270</span>
<span>271</span>
<span>272</span>
<span>273</span>
<span>274</span>
<span>275</span>
<span>276</span>
<span>277</span>
<span>278</span>
<span>279</span>
<span>280</span>
<span>281</span>
<span>282</span>
<span>283</span>
<span>284</span>
<span>285</span>
<span>286</span>
<span>287</span>
<span>288</span>
<span>289</span>
<span>290</span>
<span>291</span>
<span>292</span>
<span>293</span>
<span>294</span>
<span>295</span>
<span>296</span>
<span>297</span>
<span>298</span>
<span>299</span>
<span>300</span>
<span>301</span>
<span>302</span>
<span>303</span>
<span>304</span>
<span>305</span>
<span>306</span>
<span>307</span>
<span>308</span>
<span>309</span>
<span>310</span>
<span>311</span>
<span>312</span>
<span>313</span>
<span>314</span>
<span>315</span>
<span>316</span>
<span>317</span>
<span>318</span>
<span>319</span>
<span>320</span>
<span>321</span>
<span>322</span>
<span>323</span>
<span>324</span>
<span>325</span>
<span>326</span>
<span>327</span>
<span>328</span>
<span>329</span>
<span>330</span>
<span>331</span>
<span>332</span>
<span>333</span>
<span>334</span>
<span>335</span>
<span>336</span>
<span>337</span>
<span>338</span>
<span>339</span>
<span>340</span>
<span>341</span>
<span>342</span>
<span>343</span>
<span>344</span>
<span>345</span>
<span>346</span>
<span>347</span>
<span>348</span>
<span>349</span>
<span>350</span>
<span>351</span>
<span>352</span>
<span>353</span>
<span>354</span>
<span>355</span>
<span>356</span>
<span>357</span>
<span>358</span>
<span>359</span>
<span>360</span>
<span>361</span>
<span>362</span>
<span>363</span>
<span>364</span>
<span>365</span>
<span>366</span>
<span>367</span>
<span>368</span>
<span>369</span>
<span>370</span>
<span>371</span>
<span>372</span>
<span>373</span>
<span>374</span>
<span>375</span>
<span>376</span>
<span>377</span>
<span>378</span>
<span>379</span>
<span>380</span>
<span>381</span>
<span>382</span>
<span>383</span>
<span>384</span>
<span>385</span>
<span>386</span>
<span>387</span>
<span>388</span>
<span>389</span>
<span>390</span>
<span>391</span>
<span>392</span>
<span>393</span>
<span>394</span>
<span>395</span>
<span>396</span>
<span>397</span>
<span>398</span>
<span>399</span>
<span>400</span>
<span>401</span>
<span>402</span>
<span>403</span>
<span>404</span>
<span>405</span>
<span>406</span>
<span>407</span>
<span>408</span>
<span>409</span>
<span>410</span>
<span>411</span>
<span>412</span>
<span>413</span>
<span>414</span>
<span>415</span>
<span>416</span>
<span>417</span>
<span>418</span>
<span>419</span>
<span>420</span>
<span>421</span>
<span>422</span>
<span>423</span>
<span>424</span>
<span>425</span>
<span>426</span>
<span>427</span>
<span>428</span>
<span>429</span>
<span>430</span>
<span>431</span>
<span>432</span>
<span>433</span>
<span>434</span>
<span>435</span>
<span>436</span>
<span>437</span>
<span>438</span>
<span>439</span>
<span>440</span>
<span>441</span>
<span>442</span>
<span>443</span>
<span>444</span>
<span>445</span>
<span>446</span>
<span>447</span>
<span>448</span>
<span>449</span>
<span>450</span>
<span>451</span>
<span>452</span>
<span>453</span>
<span>454</span>
<span>455</span>
<span>456</span>
<span>457</span>
<span>458</span>
<span>459</span>
<span>460</span>
<span>461</span>
<span>462</span>
<span>463</span>
<span>464</span>
<span>465</span>
<span>466</span>
<span>467</span>
<span>468</span>
<span>469</span>
<span>470</span>
<span>471</span>
<span>472</span>
<span>473</span>
<span>474</span>
<span>475</span>
<span>476</span>
<span>477</span>
<span>478</span>
<span>479</span>
<span>480</span>
<span>481</span>
<span>482</span>
<span>483</span>
<span>484</span>
<span>485</span>
<span>486</span>
<span>487</span>
<span>488</span>
<span>489</span>
<span>490</span>
<span>491</span>
<span>492</span>
<span>493</span>
<span>494</span>
<span>495</span>
<span>496</span>
<span>497</span>
<span>498</span>
<span>499</span>
<span>500</span>
<span>501</span>
<span>502</span>
<span>503</span>
<span>504</span>
<span>505</span>
<span>506</span>
<span>507</span>
<span>508</span>
<span>509</span>
<span>510</span>
<span>511</span>
<span>512</span>
<span>513</span>
<span>514</span>
<span>515</span>
<span>516</span>
<span>517</span>
<span>518</span>
<span>519</span>
<span>520</span>
<span>521</span>
<span>522</span>
<span>523</span>
<span>524</span>
<span>525</span>
<span>526</span>
<span>527</span>
<span>528</span>
<span>529</span>
<span>530</span>
<span>531</span>
<span>532</span>
<span>533</span>
<span>534</span>
<span>535</span>
<span>536</span>
<span>537</span>
<span>538</span>
<span>539</span>
<span>540</span>
<span>541</span>
<span>542</span>
<span>543</span>
<span>544</span>
<span>545</span>
<span>546</span>
<span>547</span>
<span>548</span>
<span>549</span>
<span>550</span>
<span>551</span>
<span>552</span>
<span>553</span>
<span>554</span>
<span>555</span>
<span>556</span>
<span>557</span>
<span>558</span>
<span>559</span>
<span>560</span>
<span>561</span>
<span>562</span>
<span>563</span>
<span>564</span>
<span>565</span>
<span>566</span>
<span>567</span>
<span>568</span>
<span>569</span>
<span>570</span>
<span>571</span>
<span>572</span>
<span>573</span>
<span>574</span>
<span>575</span>
<span>576</span>
<span>577</span>
<span>578</span>
<span>579</span>
<span>580</span>
<span>581</span>
<span>582</span>
<span>583</span>
<span>584</span>
<span>585</span>
<span>586</span>
<span>587</span>
<span>588</span>
<span>589</span>
<span>590</span>
<span>591</span>
<span>592</span>
<span>593</span>
<span>594</span>
<span>595</span>
<span>596</span>
<span>597</span>
<span>598</span>
<span>599</span>
<span>600</span>
<span>601</span>
<span>602</span>
<span>603</span>
<span>604</span>
<span>605</span>
<span>606</span>
<span>607</span>
<span>608</span>
<span>609</span>
<span>610</span>
<span>611</span>
<span>612</span>
<span>613</span>
<span>614</span>
<span>615</span>
<span>616</span>
<span>617</span>
<span>618</span>
<span>619</span>
<span>620</span>
<span>621</span>
<span>622</span>
<span>623</span>
<span>624</span>
<span>625</span>
<span>626</span>
<span>627</span>
<span>628</span>
<span>629</span>
<span>630</span>
<span>631</span>
<span>632</span>
<span>633</span>
<span>634</span>
<span>635</span>
<span>636</span>
<span>637</span>
<span>638</span>
<span>639</span>
<span>640</span>
<span>641</span>
<span>642</span>
<span>643</span>
<span>644</span>
<span>645</span>
<span>646</span>
<span>647</span>
<span>648</span>
<span>649</span>
<span>650</span>
<span>651</span>
<span>652</span>
<span>653</span>
<span>654</span>
<span>655</span>
<span>656</span>
<span>657</span>
<span>658</span>
<span>659</span>
<span>660</span>
<span>661</span>
<span>662</span>
<span>663</span>
<span>664</span>
<span>665</span>
<span>666</span>
<span>667</span>
<span>668</span>
<span>669</span>
<span>670</span>
<span>671</span>
<span>672</span>
<span>673</span>
<span>674</span>
<span>675</span>
<span>676</span>
<span>677</span>
<span>678</span>
<span>679</span>
<span>680</span>
<span>681</span>
<span>682</span>
<span>683</span>
<span>684</span>
<span>685</span>
</pre></td><td id='code'><pre><span class='com'>/**
 * D header file for POSIX.
 *
 * Copyright: Public Domain
 * License:   Public Domain
 * Authors:   Sean Kelly
 * Standards: The Open Group Base Specifications Issue 6, IEEE Std 1003.1, 2004 Edition
 */</span>
<span class='kw2'>module</span> tango.stdc.posix.signal;

<span class='kw4'>private</span> <span class='kw2'>import</span> tango.stdc.config;
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.signal;
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.stddef; <span class='com'>// needed for size_t</span>
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.posix.sys.types; <span class='com'>// for pid_t</span>
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.posix.time; <span class='com'>// for timespec</span>

<span class='kw2'>extern</span> <span class='opr'>(</span>C<span class='opr'>)</span>:

<span class='kw4'>private</span> <span class='kw2'>alias</span> <span class='kw4'>void</span> <span class='kw2'>function</span><span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span> sigfn_t;
<span class='kw4'>private</span> <span class='kw2'>alias</span> <span class='kw4'>void</span> <span class='kw2'>function</span><span class='opr'>(</span><span class='kw4'>int</span>, siginfo_t<span class='opr'>*</span>, <span class='kw4'>void</span><span class='opr'>*</span><span class='opr'>)</span> sigactfn_t;

<span class='com'>//</span>
<span class='com'>// Required</span>
<span class='com'>//</span>
<span class='com'>/*
SIG_DFL (defined in tango.stdc.signal)
SIG_ERR (defined in tango.stdc.signal)
SIG_IGN (defined in tango.stdc.signal)

sig_atomic_t (defined in tango.stdc.signal)

SIGEV_NONE
SIGEV_SIGNAL
SIGEV_THREAD

union sigval
{
    int   sival_int;
    void* sival_ptr;
}

SIGRTMIN
SIGRTMAX

SIGABRT (defined in tango.stdc.signal)
SIGALRM
SIGBUS
SIGCHLD
SIGCONT
SIGFPE (defined in tango.stdc.signal)
SIGHUP
SIGILL (defined in tango.stdc.signal)
SIGINT (defined in tango.stdc.signal)
SIGKILL
SIGPIPE
SIGQUIT
SIGSEGV (defined in tango.stdc.signal)
SIGSTOP
SIGTERM (defined in tango.stdc.signal)
SIGTSTP
SIGTTIN
SIGTTOU
SIGUSR1
SIGUSR2
SIGURG

struct sigaction_t
{
    sigfn_t     sa_handler;
    sigset_t    sa_mask;
    sigactfn_t  sa_sigaction;
}

sigfn_t signal(int sig, sigfn_t func); (defined in tango.stdc.signal)
int raise(int sig);                    (defined in tango.stdc.signal)
*/</span>

<span class='com'>//SIG_DFL (defined in tango.stdc.signal)</span>
<span class='com'>//SIG_ERR (defined in tango.stdc.signal)</span>
<span class='com'>//SIG_IGN (defined in tango.stdc.signal)</span>

<span class='com'>//sig_atomic_t (defined in tango.stdc.signal)</span>

<span class='kw4'>enum</span>
<span class='opr'>{</span>
  SIGEV_SIGNAL,
  SIGEV_NONE,
  SIGEV_THREAD
<span class='opr'>}</span>

<span class='kw2'>union</span> sigval
<span class='opr'>{</span>
    <span class='kw4'>int</span>     sival_int;
    <span class='kw4'>void</span><span class='opr'>*</span>   sival_ptr;
<span class='opr'>}</span>

<span class='kw4'>private</span> <span class='kw2'>extern</span> <span class='opr'>(</span>C<span class='opr'>)</span> <span class='kw4'>int</span> __libc_current_sigrtmin<span class='opr'>(</span><span class='opr'>)</span>;
<span class='kw4'>private</span> <span class='kw2'>extern</span> <span class='opr'>(</span>C<span class='opr'>)</span> <span class='kw4'>int</span> __libc_current_sigrtmax<span class='opr'>(</span><span class='opr'>)</span>;

<span class='kw2'>alias</span> __libc_current_sigrtmin SIGRTMIN;
<span class='kw2'>alias</span> __libc_current_sigrtmax SIGRTMAX;

<span class='kw4'>version</span><span class='opr'>(</span> linux <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='com'>//SIGABRT (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGALRM  <span class='opr'>=</span> <span class='nbr'>14</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGBUS   <span class='opr'>=</span> <span class='nbr'>7</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGCHLD  <span class='opr'>=</span> <span class='nbr'>17</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGCONT  <span class='opr'>=</span> <span class='nbr'>18</span>;
    <span class='com'>//SIGFPE (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGHUP   <span class='opr'>=</span> <span class='nbr'>1</span>;
    <span class='com'>//SIGILL (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGINT (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGKILL  <span class='opr'>=</span> <span class='nbr'>9</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGPIPE  <span class='opr'>=</span> <span class='nbr'>13</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGQUIT  <span class='opr'>=</span> <span class='nbr'>3</span>;
    <span class='com'>//SIGSEGV (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGSTOP  <span class='opr'>=</span> <span class='nbr'>19</span>;
    <span class='com'>//SIGTERM (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTSTP  <span class='opr'>=</span> <span class='nbr'>20</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTTIN  <span class='opr'>=</span> <span class='nbr'>21</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTTOU  <span class='opr'>=</span> <span class='nbr'>22</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGUSR1  <span class='opr'>=</span> <span class='nbr'>10</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGUSR2  <span class='opr'>=</span> <span class='nbr'>12</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGURG   <span class='opr'>=</span> <span class='nbr'>23</span>;
<span class='opr'>}</span>
<span class='kw1'>else</span> <span class='kw4'>version</span><span class='opr'>(</span> darwin <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='com'>//SIGABRT (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGALRM  <span class='opr'>=</span> <span class='nbr'>14</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGBUS   <span class='opr'>=</span> <span class='nbr'>10</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGCHLD  <span class='opr'>=</span> <span class='nbr'>20</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGCONT  <span class='opr'>=</span> <span class='nbr'>19</span>;
    <span class='com'>//SIGFPE (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGHUP   <span class='opr'>=</span> <span class='nbr'>1</span>;
    <span class='com'>//SIGILL (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGINT (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGKILL  <span class='opr'>=</span> <span class='nbr'>9</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGPIPE  <span class='opr'>=</span> <span class='nbr'>13</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGQUIT  <span class='opr'>=</span> <span class='nbr'>3</span>;
    <span class='com'>//SIGSEGV (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGSTOP  <span class='opr'>=</span> <span class='nbr'>17</span>;
    <span class='com'>//SIGTERM (defined in tango.stdc.signal)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTSTP  <span class='opr'>=</span> <span class='nbr'>18</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTTIN  <span class='opr'>=</span> <span class='nbr'>21</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTTOU  <span class='opr'>=</span> <span class='nbr'>22</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGUSR1  <span class='opr'>=</span> <span class='nbr'>30</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGUSR2  <span class='opr'>=</span> <span class='nbr'>31</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGURG   <span class='opr'>=</span> <span class='nbr'>16</span>;
<span class='opr'>}</span>

<span class='kw4'>struct</span> sigaction_t
<span class='opr'>{</span>
    <span class='kw4'>static</span> <span class='kw1'>if</span><span class='opr'>(</span> <span class='kw2'>true</span> <span class='com'>/* __USE_POSIX199309 */</span> <span class='opr'>)</span>
    <span class='opr'>{</span>
        <span class='kw2'>union</span>
        <span class='opr'>{</span>
            sigfn_t     sa_handler;
            sigactfn_t  sa_sigaction;
        <span class='opr'>}</span>
    <span class='opr'>}</span>
    <span class='kw1'>else</span>
    <span class='opr'>{</span>
        sigfn_t     sa_handler;
    <span class='opr'>}</span>
    sigset_t        sa_mask;
    <span class='kw4'>int</span>             sa_flags;

    <span class='kw4'>version</span><span class='opr'>(</span> darwin <span class='opr'>)</span> <span class='opr'>{</span><span class='opr'>}</span> <span class='kw1'>else</span> <span class='opr'>{</span>
    <span class='kw4'>void</span> <span class='kw2'>function</span><span class='opr'>(</span><span class='opr'>)</span> sa_restorer;
    <span class='opr'>}</span>
<span class='opr'>}</span>

<span class='com'>//</span>
<span class='com'>// C Extension (CX)</span>
<span class='com'>//</span>
<span class='com'>/*
SIG_HOLD

sigset_t
pid_t   (defined in sys.types)

SIGABRT (defined in tango.stdc.signal)
SIGFPE  (defined in tango.stdc.signal)
SIGILL  (defined in tango.stdc.signal)
SIGINT  (defined in tango.stdc.signal)
SIGSEGV (defined in tango.stdc.signal)
SIGTERM (defined in tango.stdc.signal)

SA_NOCLDSTOP (CX|XSI)
SIG_BLOCK
SIG_UNBLOCK
SIG_SETMASK

struct siginfo_t
{
    int     si_signo;
    int     si_code;

    version( XSI )
    {
        int     si_errno;
        pid_t   si_pid;
        uid_t   si_uid;
        void*   si_addr;
        int     si_status;
        c_long  si_band;
    }
    version( RTS )
    {
        sigval  si_value;
    }
}

SI_USER
SI_QUEUE
SI_TIMER
SI_ASYNCIO
SI_MESGQ

int kill(pid_t, int);
int sigaction(int, sigaction_t*, sigaction_t*);
int sigaddset(sigset_t*, int);
int sigdelset(sigset_t*, int);
int sigemptyset(sigset_t*);
int sigfillset(sigset_t*);
int sigismember( sigset_t*, int);
int sigpending(sigset_t*);
int sigprocmask(int,  sigset_t*, sigset_t*);
int sigsuspend(sigset_t*);
int sigwait(sigset_t*, int*);
*/</span>

<span class='kw4'>version</span><span class='opr'>(</span> linux <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIG_HOLD <span class='opr'>=</span> <span class='kw2'>cast</span><span class='opr'>(</span>sigfn_t<span class='opr'>)</span> <span class='nbr'>1</span>;

    <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> _SIGSET_NWORDS <span class='opr'>=</span> <span class='nbr'>1024</span> / <span class='opr'>(</span><span class='nbr'>8</span> <span class='opr'>*</span> c_ulong.sizeof<span class='opr'>)</span>;

    <span class='kw4'>struct</span> sigset_t
    <span class='opr'>{</span>
        c_ulong<span class='opr'>[</span>_SIGSET_NWORDS<span class='opr'>]</span> __val;
    <span class='opr'>}</span>

    <span class='com'>// pid_t  (defined in sys.types)</span>

    <span class='com'>//SIGABRT (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGFPE  (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGILL  (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGINT  (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGSEGV (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGTERM (defined in tango.stdc.signal)</span>

    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_NOCLDSTOP <span class='opr'>=</span> <span class='nbr'>1</span>; <span class='com'>// (CX|XSI)</span>

    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIG_BLOCK    <span class='opr'>=</span> <span class='nbr'>0</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIG_UNBLOCK  <span class='opr'>=</span> <span class='nbr'>1</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIG_SETMASK  <span class='opr'>=</span> <span class='nbr'>2</span>;

    <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> __SI_MAX_SIZE <span class='opr'>=</span> <span class='nbr'>128</span>;

    <span class='kw4'>static</span> <span class='kw1'>if</span><span class='opr'>(</span> <span class='kw2'>false</span> <span class='com'>/* __WORDSIZE == 64 */</span> <span class='opr'>)</span>
    <span class='opr'>{</span>
        <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> __SI_PAD_SIZE <span class='opr'>=</span> <span class='opr'>(</span><span class='opr'>(</span>__SI_MAX_SIZE / <span class='kw4'>int</span>.sizeof<span class='opr'>)</span> <span class='opr'>-</span> <span class='nbr'>4</span><span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw1'>else</span>
    <span class='opr'>{</span>
        <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> __SI_PAD_SIZE <span class='opr'>=</span> <span class='opr'>(</span><span class='opr'>(</span>__SI_MAX_SIZE / <span class='kw4'>int</span>.sizeof<span class='opr'>)</span> <span class='opr'>-</span> <span class='nbr'>3</span><span class='opr'>)</span>;
    <span class='opr'>}</span>

    <span class='kw4'>struct</span> siginfo_t
    <span class='opr'>{</span>
        <span class='kw4'>int</span> si_signo;       <span class='com'>// Signal number</span>
        <span class='kw4'>int</span> si_errno;       <span class='com'>// If non-zero, an errno value associated with</span>
                            <span class='com'>// this signal, as defined in &lt;errno.h&gt;</span>
        <span class='kw4'>int</span> si_code;        <span class='com'>// Signal code</span>

        <span class='kw2'>union</span> _sifields_t
        <span class='opr'>{</span>
            <span class='kw4'>int</span> _pad<span class='opr'>[</span>__SI_PAD_SIZE<span class='opr'>]</span>;

            <span class='com'>// kill()</span>
            <span class='kw4'>struct</span> _kill_t
            <span class='opr'>{</span>
                pid_t si_pid; <span class='com'>// Sending process ID</span>
                uid_t si_uid; <span class='com'>// Real user ID of sending process</span>
            <span class='opr'>}</span> _kill_t _kill;

            <span class='com'>// POSIX.1b timers.</span>
            <span class='kw4'>struct</span> _timer_t
            <span class='opr'>{</span>
                <span class='kw4'>int</span>    si_tid;     <span class='com'>// Timer ID</span>
                <span class='kw4'>int</span>    si_overrun; <span class='com'>// Overrun count</span>
                sigval si_sigval;  <span class='com'>// Signal value</span>
            <span class='opr'>}</span> _timer_t _timer;

            <span class='com'>// POSIX.1b signals</span>
            <span class='kw4'>struct</span> _rt_t
            <span class='opr'>{</span>
                pid_t  si_pid;    <span class='com'>// Sending process ID</span>
                uid_t  si_uid;    <span class='com'>// Real user ID of sending process</span>
                sigval si_sigval; <span class='com'>// Signal value</span>
            <span class='opr'>}</span> _rt_t _rt;

            <span class='com'>// SIGCHLD</span>
            <span class='kw4'>struct</span> _sigchild_t
            <span class='opr'>{</span>
                pid_t   si_pid;    <span class='com'>// Which child</span>
                uid_t   si_uid;    <span class='com'>// Real user ID of sending process</span>
                <span class='kw4'>int</span>     si_status; <span class='com'>// Exit value or signal</span>
                clock_t si_utime;
                clock_t si_stime;
            <span class='opr'>}</span> _sigchild_t _sigchld;

            <span class='com'>// SIGILL, SIGFPE, SIGSEGV, SIGBUS</span>
            <span class='kw4'>struct</span> _sigfault_t
            <span class='opr'>{</span>
                <span class='kw4'>void</span><span class='opr'>*</span>     si_addr;  <span class='com'>// Faulting insn/memory ref</span>
            <span class='opr'>}</span> _sigfault_t _sigfault;

            <span class='com'>// SIGPOLL</span>
            <span class='kw4'>struct</span> _sigpoll_t
            <span class='opr'>{</span>
                c_long   si_band;   <span class='com'>// Band event for SIGPOLL</span>
                <span class='kw4'>int</span>      si_fd;
            <span class='opr'>}</span> _sigpoll_t _sigpoll;
        <span class='opr'>}</span> _sifields_t _sifields;
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        SI_ASYNCNL <span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>60</span>,
        SI_TKILL   <span class='opr'>=</span> <span class='opr'>-</span><span class='nbr'>6</span>,
        SI_SIGIO,
        SI_ASYNCIO,
        SI_MESGQ,
        SI_TIMER,
        SI_QUEUE,
        SI_USER,
        SI_KERNEL  <span class='opr'>=</span> <span class='nbr'>0</span>x80
    <span class='opr'>}</span>

    <span class='kw4'>int</span> kill<span class='opr'>(</span>pid_t, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigaction<span class='opr'>(</span><span class='kw4'>int</span>, sigaction_t<span class='opr'>*</span>, sigaction_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigaddset<span class='opr'>(</span>sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigdelset<span class='opr'>(</span>sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigemptyset<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigfillset<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigismember<span class='opr'>(</span> sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigpending<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigprocmask<span class='opr'>(</span><span class='kw4'>int</span>,  sigset_t<span class='opr'>*</span>, sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigsuspend<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigwait<span class='opr'>(</span>sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>
<span class='kw1'>else</span> <span class='kw4'>version</span><span class='opr'>(</span> darwin <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='com'>//SIG_HOLD</span>

    <span class='kw2'>alias</span> <span class='kw4'>uint</span> sigset_t;
    <span class='com'>// pid_t  (defined in sys.types)</span>

    <span class='com'>//SIGABRT (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGFPE  (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGILL  (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGINT  (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGSEGV (defined in tango.stdc.signal)</span>
    <span class='com'>//SIGTERM (defined in tango.stdc.signal)</span>

    <span class='com'>//SA_NOCLDSTOP (CX|XSI)</span>

    <span class='com'>//SIG_BLOCK</span>
    <span class='com'>//SIG_UNBLOCK</span>
    <span class='com'>//SIG_SETMASK</span>

    <span class='kw4'>struct</span> siginfo_t
    <span class='opr'>{</span>
        <span class='kw4'>int</span>     si_signo;
        <span class='kw4'>int</span>     si_errno;
        <span class='kw4'>int</span>     si_code;
        pid_t   si_pid;
        uid_t   si_uid;
        <span class='kw4'>int</span>     si_status;
        <span class='kw4'>void</span><span class='opr'>*</span>   si_addr;
        sigval  si_value;
        <span class='kw4'>int</span>     si_band;
        <span class='kw4'>uint</span>    pad<span class='opr'>[</span><span class='nbr'>7</span><span class='opr'>]</span>;
    <span class='opr'>}</span>

    <span class='com'>//SI_USER</span>
    <span class='com'>//SI_QUEUE</span>
    <span class='com'>//SI_TIMER</span>
    <span class='com'>//SI_ASYNCIO</span>
    <span class='com'>//SI_MESGQ</span>

    <span class='kw4'>int</span> kill<span class='opr'>(</span>pid_t, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigaction<span class='opr'>(</span><span class='kw4'>int</span>, sigaction_t<span class='opr'>*</span>, sigaction_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigaddset<span class='opr'>(</span>sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigdelset<span class='opr'>(</span>sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigemptyset<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigfillset<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigismember<span class='opr'>(</span> sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigpending<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigprocmask<span class='opr'>(</span><span class='kw4'>int</span>,  sigset_t<span class='opr'>*</span>, sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigsuspend<span class='opr'>(</span>sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigwait<span class='opr'>(</span>sigset_t<span class='opr'>*</span>, <span class='kw4'>int</span><span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>

<span class='com'>//</span>
<span class='com'>// XOpen (XSI)</span>
<span class='com'>//</span>
<span class='com'>/*
SIGPOLL
SIGPROF
SIGSYS
SIGTRAP
SIGVTALRM
SIGXCPU
SIGXFSZ

SA_ONSTACK
SA_RESETHAND
SA_RESTART
SA_SIGINFO
SA_NOCLDWAIT
SA_NODEFER
SS_ONSTACK
SS_DISABLE
MINSIGSTKSZ
SIGSTKSZ

ucontext_t // from ucontext
mcontext_t // from ucontext

struct stack_t
{
    void*   ss_sp;
    size_t  ss_size;
    int     ss_flags;
}

struct sigstack
{
    int   ss_onstack;
    void* ss_sp;
}

ILL_ILLOPC
ILL_ILLOPN
ILL_ILLADR
ILL_ILLTRP
ILL_PRVOPC
ILL_PRVREG
ILL_COPROC
ILL_BADSTK

FPE_INTDIV
FPE_INTOVF
FPE_FLTDIV
FPE_FLTOVF
FPE_FLTUND
FPE_FLTRES
FPE_FLTINV
FPE_FLTSUB

SEGV_MAPERR
SEGV_ACCERR

BUS_ADRALN
BUS_ADRERR
BUS_OBJERR

TRAP_BRKPT
TRAP_TRACE

CLD_EXITED
CLD_KILLED
CLD_DUMPED
CLD_TRAPPED
CLD_STOPPED
CLD_CONTINUED

POLL_IN
POLL_OUT
POLL_MSG
POLL_ERR
POLL_PRI
POLL_HUP

sigfn_t bsd_signal(int sig, sigfn_t func);
sigfn_t sigset(int sig, sigfn_t func);

int killpg(pid_t, int);
int sigaltstack(stack_t*, stack_t*);
int sighold(int);
int sigignore(int);
int siginterrupt(int, int);
int sigpause(int);
int sigrelse(int);
*/</span>

<span class='kw4'>version</span><span class='opr'>(</span> linux <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGPOLL      <span class='opr'>=</span> <span class='nbr'>29</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGPROF      <span class='opr'>=</span> <span class='nbr'>27</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGSYS       <span class='opr'>=</span> <span class='nbr'>31</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGTRAP      <span class='opr'>=</span> <span class='nbr'>5</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGVTALRM    <span class='opr'>=</span> <span class='nbr'>26</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGXCPU      <span class='opr'>=</span> <span class='nbr'>24</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGXFSZ      <span class='opr'>=</span> <span class='nbr'>25</span>;

    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_ONSTACK   <span class='opr'>=</span> <span class='nbr'>0</span>x08000000;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_RESETHAND <span class='opr'>=</span> <span class='nbr'>0</span>x80000000;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_RESTART   <span class='opr'>=</span> <span class='nbr'>0</span>x10000000;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_SIGINFO   <span class='opr'>=</span> <span class='nbr'>4</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_NOCLDWAIT <span class='opr'>=</span> <span class='nbr'>2</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SA_NODEFER   <span class='opr'>=</span> <span class='nbr'>0</span>x40000000;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SS_ONSTACK   <span class='opr'>=</span> <span class='nbr'>1</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SS_DISABLE   <span class='opr'>=</span> <span class='nbr'>2</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> MINSIGSTKSZ  <span class='opr'>=</span> <span class='nbr'>2048</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> SIGSTKSZ     <span class='opr'>=</span> <span class='nbr'>8192</span>;

    <span class='com'>//ucontext_t (defined in tango.stdc.posix.ucontext)</span>
    <span class='com'>//mcontext_t (defined in tango.stdc.posix.ucontext)</span>

    <span class='kw4'>struct</span> stack_t
    <span class='opr'>{</span>
        <span class='kw4'>void</span><span class='opr'>*</span>   ss_sp;
        <span class='kw4'>int</span>     ss_flags;
        <span class='kw4'>size_t</span>  ss_size;
    <span class='opr'>}</span>

    <span class='kw4'>struct</span> sigstack
    <span class='opr'>{</span>
        <span class='kw4'>void</span><span class='opr'>*</span>   ss_sp;
        <span class='kw4'>int</span>     ss_onstack;
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        ILL_ILLOPC <span class='opr'>=</span> <span class='nbr'>1</span>,
        ILL_ILLOPN,
        ILL_ILLADR,
        ILL_ILLTRP,
        ILL_PRVOPC,
        ILL_PRVREG,
        ILL_COPROC,
        ILL_BADSTK
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        FPE_INTDIV <span class='opr'>=</span> <span class='nbr'>1</span>,
        FPE_INTOVF,
        FPE_FLTDIV,
        FPE_FLTOVF,
        FPE_FLTUND,
        FPE_FLTRES,
        FPE_FLTINV,
        FPE_FLTSUB
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        SEGV_MAPERR <span class='opr'>=</span> <span class='nbr'>1</span>,
        SEGV_ACCERR
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        BUS_ADRALN <span class='opr'>=</span> <span class='nbr'>1</span>,
        BUS_ADRERR,
        BUS_OBJERR
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        TRAP_BRKPT <span class='opr'>=</span> <span class='nbr'>1</span>,
        TRAP_TRACE
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        CLD_EXITED <span class='opr'>=</span> <span class='nbr'>1</span>,
        CLD_KILLED,
        CLD_DUMPED,
        CLD_TRAPPED,
        CLD_STOPPED,
        CLD_CONTINUED
    <span class='opr'>}</span>

    <span class='kw4'>enum</span>
    <span class='opr'>{</span>
        POLL_IN <span class='opr'>=</span> <span class='nbr'>1</span>,
        POLL_OUT,
        POLL_MSG,
        POLL_ERR,
        POLL_PRI,
        POLL_HUP
    <span class='opr'>}</span>

    sigfn_t bsd_signal<span class='opr'>(</span><span class='kw4'>int</span> sig, sigfn_t func<span class='opr'>)</span>;
    sigfn_t sigset<span class='opr'>(</span><span class='kw4'>int</span> sig, sigfn_t func<span class='opr'>)</span>;

    <span class='kw4'>int</span> killpg<span class='opr'>(</span>pid_t, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigaltstack<span class='opr'>(</span>stack_t<span class='opr'>*</span>, stack_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sighold<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigignore<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> siginterrupt<span class='opr'>(</span><span class='kw4'>int</span>, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigpause<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigrelse<span class='opr'>(</span><span class='kw4'>int</span><span class='opr'>)</span>;
<span class='opr'>}</span>

<span class='com'>//</span>
<span class='com'>// Realtime Signals (RTS)</span>
<span class='com'>//</span>
<span class='com'>/*
struct sigevent
{
    int             sigev_notify;
    int             sigev_signo;
    sigval          sigev_value;
    void(*)(sigval) sigev_notify_function;
    pthread_attr_t* sigev_notify_attributes;
}

int sigqueue(pid_t, int, sigval);
int sigtimedwait( sigset_t*, siginfo_t*, timespec*);
int sigwaitinfo( sigset_t*, siginfo_t*);
*/</span>

<span class='kw4'>version</span><span class='opr'>(</span> linux <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> __SIGEV_MAX_SIZE <span class='opr'>=</span> <span class='nbr'>64</span>;

    <span class='kw4'>static</span> <span class='kw1'>if</span><span class='opr'>(</span> <span class='kw2'>false</span> <span class='com'>/* __WORDSIZE == 64 */</span> <span class='opr'>)</span>
    <span class='opr'>{</span>
        <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> __SIGEV_PAD_SIZE <span class='opr'>=</span> <span class='opr'>(</span><span class='opr'>(</span>__SIGEV_MAX_SIZE / <span class='kw4'>int</span>.sizeof<span class='opr'>)</span> <span class='opr'>-</span> <span class='nbr'>4</span><span class='opr'>)</span>;
    <span class='opr'>}</span>
    <span class='kw1'>else</span>
    <span class='opr'>{</span>
        <span class='kw4'>private</span> <span class='kw4'>const</span> <span class='kw4'>auto</span> __SIGEV_PAD_SIZE <span class='opr'>=</span> <span class='opr'>(</span><span class='opr'>(</span>__SIGEV_MAX_SIZE / <span class='kw4'>int</span>.sizeof<span class='opr'>)</span> <span class='opr'>-</span> <span class='nbr'>3</span><span class='opr'>)</span>;
    <span class='opr'>}</span>

    <span class='kw4'>struct</span> sigevent
    <span class='opr'>{</span>
        sigval      sigev_value;
        <span class='kw4'>int</span>         sigev_signo;
        <span class='kw4'>int</span>         sigev_notify;

        <span class='kw2'>union</span> _sigev_un_t
        <span class='opr'>{</span>
            <span class='kw4'>int</span><span class='opr'>[</span>__SIGEV_PAD_SIZE<span class='opr'>]</span> _pad;
            pid_t                 _tid;

            <span class='kw4'>struct</span> _sigev_thread_t
            <span class='opr'>{</span>
                <span class='kw4'>void</span> <span class='kw2'>function</span><span class='opr'>(</span>sigval<span class='opr'>)</span>   _function;
                <span class='kw4'>void</span><span class='opr'>*</span>                   _attribute;
            <span class='opr'>}</span> _sigev_thread_t _sigev_thread;
        <span class='opr'>}</span> _sigev_un_t _sigev_un;
    <span class='opr'>}</span>

    <span class='kw4'>int</span> sigqueue<span class='opr'>(</span>pid_t, <span class='kw4'>int</span>, sigval<span class='opr'>)</span>;
    <span class='kw4'>int</span> sigtimedwait<span class='opr'>(</span> sigset_t<span class='opr'>*</span>, siginfo_t<span class='opr'>*</span>, timespec<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> sigwaitinfo<span class='opr'>(</span> sigset_t<span class='opr'>*</span>, siginfo_t<span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>

<span class='com'>//</span>
<span class='com'>// Threads (THR)</span>
<span class='com'>//</span>
<span class='com'>/*
int pthread_kill(pthread_t, int);
int pthread_sigmask(int,  sigset_t*, sigset_t*);
*/</span>

<span class='kw4'>version</span><span class='opr'>(</span> linux <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>int</span> pthread_kill<span class='opr'>(</span>pthread_t, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> pthread_sigmask<span class='opr'>(</span><span class='kw4'>int</span>,  sigset_t<span class='opr'>*</span>, sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>
<span class='kw1'>else</span> <span class='kw4'>version</span><span class='opr'>(</span> darwin <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>int</span> pthread_kill<span class='opr'>(</span>pthread_t, <span class='kw4'>int</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> pthread_sigmask<span class='opr'>(</span><span class='kw4'>int</span>,  sigset_t<span class='opr'>*</span>, sigset_t<span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>
</pre></td></tr></table>	</body>
</html>
