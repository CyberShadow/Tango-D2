<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
	<head>
		<link rel="stylesheet" href="style.css" type="text/css" />
		<title>time.d</title>
	</head>
	<body>

<table id='dcode'><tr><td id='lnum'><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
</pre></td><td id='code'><pre><span class='com'>/**
 * D header file for POSIX.
 *
 * Copyright: Public Domain
 * License:   Public Domain
 * Authors:   Sean Kelly
 * Standards: The Open Group Base Specifications Issue 6, IEEE Std 1003.1, 2004 Edition
 */</span>
<span class='kw2'>module</span> tango.stdc.posix.time;

<span class='kw4'>private</span> <span class='kw2'>import</span> tango.stdc.config;
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.time;
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.posix.sys.types;
<span class='kw4'>public</span> <span class='kw2'>import</span> tango.stdc.posix.signal; <span class='com'>// for sigevent</span>

<span class='kw2'>extern</span> <span class='opr'>(</span>C<span class='opr'>)</span>:

<span class='com'>//</span>
<span class='com'>// Defined in tango.stdc.time</span>
<span class='com'>//</span>
<span class='com'>/*
char* asctime(tm*);
clock_t clock();
char* ctime(time_t*);
double difftime(time_t, time_t);
tm* gmtime(time_t*);
tm* localtime(time_t*);
time_t mktime(tm*);
size_t strftime(char*, size_t, char*, tm*);
time_t time(time_t*);
*/</span>

<span class='com'>//</span>
<span class='com'>// C Extension (CX)</span>
<span class='com'>// (defined in tango.stdc.time)</span>
<span class='com'>//</span>
<span class='com'>/*
char* tzname[];
void tzset();
*/</span>

<span class='com'>//</span>
<span class='com'>// Process CPU-Time Clocks (CPT)</span>
<span class='com'>//</span>
<span class='com'>/*
int clock_getcpuclockid(pid_t, clockid_t*);
*/</span>

<span class='com'>//</span>
<span class='com'>// Clock Selection (CS)</span>
<span class='com'>//</span>
<span class='com'>/*
int clock_nanosleep(clockid_t, int, timespec*, timespec*);
*/</span>

<span class='com'>//</span>
<span class='com'>// Monotonic Clock (MON)</span>
<span class='com'>//</span>
<span class='com'>/*
CLOCK_MONOTONIC
*/</span>

<span class='com'>//</span>
<span class='com'>// Timer (TMR)</span>
<span class='com'>//</span>
<span class='com'>/*
CLOCK_PROCESS_CPUTIME_ID (TMR|CPT)
CLOCK_THREAD_CPUTIME_ID (TMR|TCT)

struct timespec
{
    time_t  tv_sec;
    int     tv_nsec;
}

struct itimerspec
{
    timespec it_interval;
    timespec it_value;
}

CLOCK_REALTIME
TIMER_ABSTIME

clockid_t
timer_t

int clock_getres(clockid_t, timespec*);
int clock_gettime(clockid_t, timespec*);
int clock_settime(clockid_t, timespec*);
int nanosleep(timespec*, timespec*);
int timer_create(clockid_t, sigevent*, timer_t*);
int timer_delete(timer_t);
int timer_gettime(timer_t, itimerspec*);
int timer_getoverrun(timer_t);
int timer_settime(timer_t, int, itimerspec*, itimerspec*);
*/</span>

<span class='kw4'>version</span><span class='opr'>(</span> linux <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> CLOCK_PROCESS_CPUTIME_ID <span class='opr'>=</span> <span class='nbr'>2</span>; <span class='com'>// (TMR|CPT)</span>
    <span class='kw4'>const</span> <span class='kw4'>auto</span> CLOCK_THREAD_CPUTIME_ID  <span class='opr'>=</span> <span class='nbr'>3</span>; <span class='com'>// (TMR|TCT)</span>

    <span class='kw4'>struct</span> timespec
    <span class='opr'>{</span>
        time_t  tv_sec;
        c_long  tv_nsec;
    <span class='opr'>}</span>

    <span class='kw4'>struct</span> itimerspec
    <span class='opr'>{</span>
        timespec it_interval;
        timespec it_value;
    <span class='opr'>}</span>

    <span class='kw4'>const</span> <span class='kw4'>auto</span> CLOCK_REALTIME   <span class='opr'>=</span> <span class='nbr'>0</span>;
    <span class='kw4'>const</span> <span class='kw4'>auto</span> TIMER_ABSTIME    <span class='opr'>=</span> <span class='nbr'>0</span>x01;

    <span class='kw2'>alias</span> <span class='kw4'>int</span> clockid_t;
    <span class='kw2'>alias</span> <span class='kw4'>int</span> timer_t;

    <span class='kw4'>int</span> clock_getres<span class='opr'>(</span>clockid_t, timespec<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> clock_gettime<span class='opr'>(</span>clockid_t, timespec<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> clock_settime<span class='opr'>(</span>clockid_t, timespec<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> nanosleep<span class='opr'>(</span>timespec<span class='opr'>*</span>, timespec<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> timer_create<span class='opr'>(</span>clockid_t, sigevent<span class='opr'>*</span>, timer_t<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> timer_delete<span class='opr'>(</span>timer_t<span class='opr'>)</span>;
    <span class='kw4'>int</span> timer_gettime<span class='opr'>(</span>timer_t, itimerspec<span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>int</span> timer_getoverrun<span class='opr'>(</span>timer_t<span class='opr'>)</span>;
    <span class='kw4'>int</span> timer_settime<span class='opr'>(</span>timer_t, <span class='kw4'>int</span>, itimerspec<span class='opr'>*</span>, itimerspec<span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>
<span class='kw1'>else</span> <span class='kw4'>version</span><span class='opr'>(</span> darwin <span class='opr'>)</span>
<span class='opr'>{</span>
    <span class='kw4'>struct</span> timespec
    <span class='opr'>{</span>
        time_t  tv_sec;
        <span class='kw4'>long</span>    tv_nsec;
    <span class='opr'>}</span>

    <span class='kw4'>int</span> nanosleep<span class='opr'>(</span>timespec<span class='opr'>*</span>, timespec<span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>


<span class='com'>//</span>
<span class='com'>// Thread-Safe Functions (TSF)</span>
<span class='com'>//</span>
<span class='com'>/*
char* asctime_r(tm*, char*);
char* ctime_r(time_t*, char*);
tm* gmtime_r(time_t*, tm*);
tm* localtime_r(time_t*, tm*);
*/</span>

<span class='com'>//</span>
<span class='com'>// XOpen (XSI)</span>
<span class='com'>//</span>
<span class='com'>/*
getdate_err

int daylight;
int timezone;

tm* getdate(char*);
char* strptime(char*, char*, tm*);
*/</span>

<span class='kw4'>version</span><span class='opr'>(</span> darwin <span class='opr'>)</span>
<span class='opr'>{</span>
    tm<span class='opr'>*</span>   getdate<span class='opr'>(</span><span class='kw4'>char</span> <span class='opr'>*</span><span class='opr'>)</span>;
    <span class='kw4'>char</span><span class='opr'>*</span> strptime<span class='opr'>(</span><span class='kw4'>char</span><span class='opr'>*</span>, <span class='kw4'>char</span><span class='opr'>*</span>, tm<span class='opr'>*</span><span class='opr'>)</span>;
<span class='opr'>}</span>
</pre></td></tr></table>	</body>
</html>
