
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>tango.net.http.HttpTokens</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
<script>
function anchorFromTitle(title, path, ext) {
  var url = path + title + "." + ext;
  document.write("<a href='" + url + "'>" + title + "</a>");
  }
</script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("tango.net.http.HttpTokens");</script>
	<table class="content">
		<tr><td id="docbody"><h1><script>anchorFromTitle('tango.net.http.HttpTokens', 'http://svn.dsource.org/projects/tango/trunk/doc/html/source/', 'html');</script></h1><!-- Generated by Ddoc from tango\net\http\HttpTokens.d -->
<b>License:</b><br>
BSD style: see <a href="http://www.dsource.org/projects/tango/wiki/LibraryLicense">license.txt</a>

<br><br>
<b>Version:</b><br>
Initial release: April 2004

<br><br>
<b>author:</b><br>
Kris

<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>struct 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.HttpToken">HttpToken</a></span>
<script>explorer.outline.addDecl('HttpToken');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Struct used to expose freachable 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.HttpToken">HttpToken</a></span>
<script>explorer.outline.addDecl('HttpToken');</script>
 instances.
</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>class 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.HttpTokens">HttpTokens</a></span>
<script>explorer.outline.addDecl('HttpTokens');</script>
: tango.io.protocol.model.IWriter.IWritable;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Maintains a set of HTTP tokens. These tokens include headers, query-
        parameters, and anything else vaguely similar. Both input and output
        are supported, though a subclass may choose to expose as read-only.
</font><br><br>
<font color=black>All tokens are mapped directly onto a buffer, so there is no memory
        allocation or copying involved.
<br><br>

        Note that this class does not support deleting tokens. Supporting
        such operations require a different approach, such as mapping the
        tokens into a temporary buffer, and then setting token content in
        the stack to be <b>null</b> when it is deleted. This could be implemented
        as a wrapper upon the subclasses of HttpToken.

</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(char <span class="funcparam">separator</span>, bool <span class="funcparam">inclusive</span> = false);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Construct a set of tokens based upon the given delimeter,
                and an indication of whether said delimeter should be
                considered part of the left side (effectively the name).
</font><br><br>
<font color=black>The latter is useful with headers, since the seperating
                ':' character should really be considered part of the
                name for purposes of subsequent token matching.
<br><br>

        
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(HttpTokens <span class="funcparam">source</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Clone a <span class="funcparam">source</span> set of HttpTokens
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.parse">parse</a></span>
<script>explorer.outline.addDecl('parse');</script>
(IBuffer <span class="funcparam">input</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Read all tokens. Everything is mapped rather than being
                allocated &amp; copied
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.parse">parse</a></span>
<script>explorer.outline.addDecl('parse');</script>
(char[] <span class="funcparam">content</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Parse an input string.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.reset">reset</a></span>
<script>explorer.outline.addDecl('reset');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Reset this set of tokens.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.isParsed">isParsed</a></span>
<script>explorer.outline.addDecl('isParsed');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Have tokens been parsed yet?
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.setParsed">setParsed</a></span>
<script>explorer.outline.addDecl('setParsed');</script>
(bool <span class="funcparam">parsed</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Indicate whether tokens have been <span class="funcparam">parsed</span> or not.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>char[] 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.get">get</a></span>
<script>explorer.outline.addDecl('get');</script>
(char[] <span class="funcparam">name</span>, char[] <span class="funcparam">ret</span> = null);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the value of the provided header, or <b>null</b> if the
                header does not exist
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>int 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.getInt">getInt</a></span>
<script>explorer.outline.addDecl('getInt');</script>
(char[] <span class="funcparam">name</span>, int <span class="funcparam">ret</span> = -1);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the integer value of the provided header, or the
                provided default-vaule if the header does not exist
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>ulong 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.getDate">getDate</a></span>
<script>explorer.outline.addDecl('getDate');</script>
(char[] <span class="funcparam">name</span>, ulong <span class="funcparam">date</span> = -1LU);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the <span class="funcparam">date</span> value of the provided header, or the
                provided default-value if the header does not exist
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>int 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.opApply">opApply</a></span>
<script>explorer.outline.addDecl('opApply');</script>
(int delegate(inout HttpToken ) <span class="funcparam">dg</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Iterate over the set of tokens
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.write">write</a></span>
<script>explorer.outline.addDecl('write');</script>
(IWriter <span class="funcparam">writer</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Output the token list to the provided <span class="funcparam">writer</span>
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.handleMissingSeparator">handleMissingSeparator</a></span>
<script>explorer.outline.addDecl('handleMissingSeparator');</script>
(char[] <span class="funcparam">s</span>, inout HttpToken <span class="funcparam">element</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>overridable method to handle the case where a token does
                not have a separator. Apparently, this can happen in HTTP
                usage
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>FilteredTokens 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.createFilter">createFilter</a></span>
<script>explorer.outline.addDecl('createFilter');</script>
(char[] <span class="funcparam">match</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Create a filter for iterating over the tokens matching
                a particular name.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.setOutputBuffer">setOutputBuffer</a></span>
<script>explorer.outline.addDecl('setOutputBuffer');</script>
(IBuffer <span class="funcparam">output</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>***************** these should be exposed carefully ******************
        
<br><br>

<br><br>

<br><br>

                Set the <span class="funcparam">output</span> buffer for adding tokens to. This is used
                by the various MutableXXXX classes.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected IBuffer 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.getOutputBuffer">getOutputBuffer</a></span>
<script>explorer.outline.addDecl('getOutputBuffer');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the buffer used for output.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>char[] 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.formatTokens">formatTokens</a></span>
<script>explorer.outline.addDecl('formatTokens');</script>
(IBuffer <span class="funcparam">dst</span>, char[] <span class="funcparam">delim</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return a char[] representing the output. An empty array
                is returned if output was not configured. This perhaps
                could just return out 'output' buffer content, but that
                would not reflect deletes, or seperators. Better to do
                it like this instead, for a small cost.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.add">add</a></span>
<script>explorer.outline.addDecl('add');</script>
(char[] <span class="funcparam">name</span>, void delegate(IBuffer) <span class="funcparam">dg</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Add a token with the given <span class="funcparam">name</span>. The content is provided
                via the specified delegate. We stuff this <span class="funcparam">name</span> &amp; content
                into the output buffer, and map a new Token onto the
                appropriate buffer slice.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.add">add</a></span>
<script>explorer.outline.addDecl('add');</script>
(char[] <span class="funcparam">name</span>, char[] <span class="funcparam">value</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Add a simple <span class="funcparam">name</span>/<span class="funcparam">value</span> pair to the output
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.addInt">addInt</a></span>
<script>explorer.outline.addDecl('addInt');</script>
(char[] <span class="funcparam">name</span>, int <span class="funcparam">value</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Add a <span class="funcparam">name</span>/integer pair to the output
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.addDate">addDate</a></span>
<script>explorer.outline.addDecl('addDate');</script>
(char[] <span class="funcparam">name</span>, ulong <span class="funcparam">value</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Add a <span class="funcparam">name</span>/date(long) pair to the output
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.remove">remove</a></span>
<script>explorer.outline.addDecl('remove');</script>
(char[] <span class="funcparam">name</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.net.http.HttpTokens.remove">remove</a></span>
<script>explorer.outline.addDecl('remove');</script>
 a token from our list. Returns <b>false</b> if the named
               token is not found.
</font><br><br>

</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
                        Copyright (c) 2004 Kris Bell. All rights reserved

 :: page rendered by CandyDoc
		</td></tr>
	</table>
</div>
<script></script>
</body></html>


