
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>tango.convert.UnicodeBom</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
<script>
function anchorFromTitle(title, path, ext) {
  var url = path + title + "." + ext;
  document.write("<a href='" + url + "'>" + title + "</a>");
  }
</script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("tango.convert.UnicodeBom");</script>
	<table class="content">
		<tr><td id="docbody"><h1><script>anchorFromTitle('tango.convert.UnicodeBom', 'http://svn.dsource.org/projects/tango/trunk/doc/html/source/', 'html');</script></h1><!-- Generated by Ddoc from tango\convert\UnicodeBom.d -->
<b>License:</b><br>
BSD style: see <a href="http://www.dsource.org/projects/tango/wiki/LibraryLicense">license.txt</a>

<br><br>
<b>Version:</b><br>
Initial release: December 2005

<br><br>
<b>author:</b><br>
Kris

<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>class 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.UnicodeBomT">UnicodeBomT</a></span>
<script>explorer.outline.addDecl('UnicodeBomT');</script>
">
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.UnicodeBomT">UnicodeBomT</a></span>
<script>explorer.outline.addDecl('UnicodeBomT');</script>
</a></span>
<script>explorer.outline.addDecl('
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.UnicodeBomT">UnicodeBomT</a></span>
<script>explorer.outline.addDecl('UnicodeBomT');</script>
');</script>
(T);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Convert unicode content
</font><br><br>
<font color=black>Unicode is an encoding of textual material. The purpose of this module
        is to interface external-encoding with a programmer-defined internal-
        encoding. This internal encoding is declared via the template argument
        T, whilst the external encoding is either specified or derived.
<br><br>

        Three internal encodings are supported: char, wchar, and dchar. The
        methods herein operate upon arrays of this type. That is, decode()
        returns an array of the type, while encode() expect an array of said
        type.
<br><br>

        Supported external encodings are as follow (from Unicode.d):
<br><br>

                Unicode.Unknown
                Unicode.UTF_8
                Unicode.UTF_8N
                Unicode.UTF_16
                Unicode.UTF_16BE
                Unicode.UTF_16LE
                Unicode.UTF_32
                Unicode.UTF_32BE
                Unicode.UTF_32LE
<br><br>

        These can be divided into non-explicit and explicit encodings:
<br><br>

                Unicode.Unknown
                Unicode.UTF_8
                Unicode.UTF_16
                Unicode.UTF_32
<br><br>

<br><br>

                Unicode.UTF_8N
                Unicode.UTF_16BE
                Unicode.UTF_16LE
                Unicode.UTF_32BE
                Unicode.UTF_32LE
<br><br>

        The former group of non-explicit encodings may be used to 'discover'
        an unknown encoding, by examining the first few bytes of the content
        for a signature. This signature is optional, but is often written such
        that the content is self-describing. When an encoding is unknown, using
        one of the non-explicit encodings will cause the decode() method to look
        for a signature and adjust itself accordingly. It is possible that a
        ZWNBSP character might be confused with the signature; today's unicode
        content is supposed to use the WORD-JOINER character instead.
<br><br>

        The group of explicit encodings are for use when the content encoding
        is known. These *must* be used when converting back to external encoding,
        since written content must be in a known format. It should be noted that,
        during a decode() operation, the existence of a signature is in conflict
        with these explicit varieties.
<br><br>

<br><br>

        See
        <a href="http://www.utf-8.com/">http://www.utf-8.com/</a>
        <a href="http://www.hackcraft.net/xmlUnicode/">http://www.hackcraft.net/xmlUnicode/</a>
        <a href="http://www.unicode.org/faq/utf_bom.html/">http://www.unicode.org/faq/utf_bom.html/</a>
        <a href="http://www.azillionmonkeys.com/qed/unicode.html/">http://www.azillionmonkeys.com/qed/unicode.html/</a>
        <a href="http://icu.sourceforge.net/docs/papers/forms_of_unicode/">http://icu.sourceforge.net/docs/papers/forms_of_unicode/</a>

</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(int encoding);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Construct a instance using the given external encoding ~ one
                of the Unicode.xx types
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>int 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.getEncoding">getEncoding</a></span>
<script>explorer.outline.addDecl('getEncoding');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the current encoding. This is either the originally
                specified encoding, or a derived one obtained by inspecting
                the content for a BOM. The latter is performed as part of
                the decode() method
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void[] 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.getSignature">getSignature</a></span>
<script>explorer.outline.addDecl('getSignature');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the signature (BOM) of the current encoding
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>T[] 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.decode">decode</a></span>
<script>explorer.outline.addDecl('decode');</script>
(void[] <span class="funcparam">content</span>, void[] <span class="funcparam">dst</span> = null, uint* <span class="funcparam">ate</span> = null);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Convert the provided <span class="funcparam">content</span>. The <span class="funcparam">content</span> is inspected
                for a BOM signature, which is stripped. An exception is
                thrown if a signature is present when, according to the
                encoding type, it should not be. Conversely, An exception
                is thrown if there is no known signature where the current
                encoding expects one to be present
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void[] 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.encode">encode</a></span>
<script>explorer.outline.addDecl('encode');</script>
(T[] <span class="funcparam">content</span>, void[] <span class="funcparam">dst</span> = null, uint* <span class="funcparam">ate</span> = null);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Perform encoding of <span class="funcparam">content</span>. Note that the encoding must be
                of the explicit variety by the time we get here
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>Info* 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.test">test</a></span>
<script>explorer.outline.addDecl('test');</script>
(void[] <span class="funcparam">content</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Scan the BOM signatures looking for a match. We scan in
                reverse order to get the longest match first
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void[] 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.swapBytes">swapBytes</a></span>
<script>explorer.outline.addDecl('swapBytes');</script>
(void[] <span class="funcparam">content</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Swap bytes around, as required by the encoding
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.convert.UnicodeBom.setup">setup</a></span>
<script>explorer.outline.addDecl('setup');</script>
(int <span class="funcparam">encoding</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Configure this instance with unicode converters
</font><br><br>

</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
                        Copyright (c) 2004 Kris Bell. All rights reserved

 :: page rendered by CandyDoc
		</td></tr>
	</table>
</div>
<script></script>
</body></html>


