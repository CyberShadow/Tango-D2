
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>tango.io.model.IConduit</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
<script>
function anchorFromTitle(title, path, ext) {
  var url = path + title + "." + ext;
  document.write("<a href='" + url + "'>" + title + "</a>");
  }
</script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("tango.io.model.IConduit");</script>
	<table class="content">
		<tr><td id="docbody"><h1><script>anchorFromTitle('tango.io.model.IConduit', 'http://svn.dsource.org/projects/tango/trunk/doc/html/source/', 'html');</script></h1><!-- Generated by Ddoc from tango\io\model\IConduit.d -->
<b>License:</b><br>
BSD style: see <a href="http://www.dsource.org/projects/tango/wiki/LibraryLicense">license.txt</a>

<br><br>
<b>Version:</b><br>
Initial release: March 2004

<br><br>
<b>author:</b><br>
Kris

<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>interface 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.IConduit">IConduit</a></span>
<script>explorer.outline.addDecl('IConduit');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Conduits provide virtualized access to external content, and
        represent things like files or Internet connections. Conduits
        are modelled by tango.io.model.
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.IConduit">IConduit</a></span>
<script>explorer.outline.addDecl('IConduit');</script>
, and implemented via
        classes FileConduit and SocketConduit.
</font><br><br>
<font color=black>Additional kinds of conduit are easy to construct: one either
        subclasses tango.io.Conduit, or implements tango.io.model.
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.IConduit">IConduit</a></span>
<script>explorer.outline.addDecl('IConduit');</script>
.
        A conduit typically reads and writes from/to an IBuffer in large
        chunks, typically the entire buffer. Alternatively, one can invoke
        read(dst[]) and/or write(src[]) directly.

</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract uint 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.read">read</a></span>
<script>explorer.outline.addDecl('read');</script>
(void[] <span class="funcparam">dst</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.read">read</a></span>
<script>explorer.outline.addDecl('read');</script>
 from conduit into a target array
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract uint 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.write">write</a></span>
<script>explorer.outline.addDecl('write');</script>
(void[] <span class="funcparam">src</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.write">write</a></span>
<script>explorer.outline.addDecl('write');</script>
 to conduit from a source array
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.flush">flush</a></span>
<script>explorer.outline.addDecl('flush');</script>
(void[] <span class="funcparam">src</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.flush">flush</a></span>
<script>explorer.outline.addDecl('flush');</script>
 provided content to the conduit
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract IConduit 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.copy">copy</a></span>
<script>explorer.outline.addDecl('copy');</script>
(IConduit <span class="funcparam">source</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Transfer the content of this conduit to another one.
                Returns <b>true</b> if all content was successfully copied.
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract uint 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.fill">fill</a></span>
<script>explorer.outline.addDecl('fill');</script>
(void[] <span class="funcparam">dst</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Fill the provided buffer. Returns the number of bytes
                actually read, which will be less that <span class="funcparam">dst</span>.length when
                Eof has been reached and zero thereafter
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.attach">attach</a></span>
<script>explorer.outline.addDecl('attach');</script>
(IConduitFilter <span class="funcparam">filter</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Attach a <span class="funcparam">filter</span> to this conduit: see IConduitFilter
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract uint 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.bufferSize">bufferSize</a></span>
<script>explorer.outline.addDecl('bufferSize');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return a preferred size for buffering conduit I/O
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.isReadable">isReadable</a></span>
<script>explorer.outline.addDecl('isReadable');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Returns <b>true</b> is this conduit can be read from
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.isWritable">isWritable</a></span>
<script>explorer.outline.addDecl('isWritable');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Returns <b>true</b> if this conduit can be written to
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.isSeekable">isSeekable</a></span>
<script>explorer.outline.addDecl('isSeekable');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Returns <b>true</b> if this conduit is seekable (whether it
                implements ISeekable)
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract bool 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.isTextual">isTextual</a></span>
<script>explorer.outline.addDecl('isTextual');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Returns <b>true</b> if this conduit is text-based
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.close">close</a></span>
<script>explorer.outline.addDecl('close');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the underlying OS handle of this Conduit
</font><br><br>
<font color=black>Release external resources
<br><br>

        
</font><br><br>

</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>interface 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.IConduitFilter">IConduitFilter</a></span>
<script>explorer.outline.addDecl('IConduitFilter');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Define a conduit filter base-class. The filter is invoked
        via its reader() method whenever a block of content is
        being read, and by its writer() method whenever content is
        being written.
</font><br><br>
<font color=black>The filter should return the number of bytes it has actually
</font><br><br>
<b>produced:</b><br>
less than or equal to the length of the provided
        array.
<br><br>

        Filters are chained together such that the last filter added
        is the first one invoked. It is the responsibility of each
        filter to invoke the next link in the chain; for example:
<br><br>

<pre class="d_code">        <font color=blue>class</font> MungingFilter : ConduitFilter
        {
                <font color=blue>int</font> reader (<font color=blue>void</font>[] dst)
                {
                        <font color=grey>// read the next X bytes
</font>                        <font color=blue>int</font> count = next.reader (dst);

                        <font color=grey>// set everything to '*' !
</font>                        dst[0..count] = '*';

                        <font color=grey>// say how many we read
</font>                        <font color=blue>return</font> count;
                }

                <font color=blue>int</font> writer (<font color=blue>void</font>[] src)
                {
                        <font color=blue>byte</font>[] tmp = <font color=blue>new</font> <font color=blue>byte</font>[src.length];

                        <font color=grey>// set everything to '*'
</font>                        tmp = '*';

                        <font color=grey>// write the munged output
</font>                        <font color=blue>return</font> next.writer (tmp);
                }
        }
</pre>

        Notice how this filter invokes the 'next' instance before
        munging the content ... the far end of the chain is where
        the original IConduit reader is attached, so it will get
        invoked eventually assuming each filter invokes 'next'.
        If the next reader fails it will return IConduit.Eof, as
        should your filter (or throw an IOException). From a client
        perspective, filters are attached like this:
<br><br>

<pre class="d_code">        FileConduit fc = <font color=blue>new</font> FileConduit (...);

        fc.attach (<font color=blue>new</font> ZipFilter);
        fc.attach (<font color=blue>new</font> MungingFilter);
</pre>

        Again, the last filter attached is the first one invoked
        when a block of content is actually read. Each filter has
        two additional methods that it may use to control behavior:
<br><br>

<pre class="d_code">        <font color=blue>class</font> ConduitFilter : IConduitFilter
        {
                <font color=blue>protected</font> IConduitFilter next;

                <font color=blue>void</font> bind (IConduit conduit, IConduitFilter next)
                {
                        <font color=blue>this</font>.next = next;
                }

                <font color=blue>void</font> unbind ()
                {
                }
        }
</pre>

        The first method is invoked when the filter is attached to a
        conduit, while the second is invoked just before the conduit
        is closed. Both of these may be overridden by the filter for
        whatever purpose desired.
<br><br>

        Note that a conduit filter can choose to sidestep reading from
        the conduit (per the usual case), and produce its input from
        somewhere else entirely. This mechanism supports the notion
        of 'piping' between multiple conduits, or between a conduit
        and something else entirely; it's a bridging mechanism.

<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract uint 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.reader">reader</a></span>
<script>explorer.outline.addDecl('reader');</script>
(void[] <span class="funcparam">dst</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>filter-specific 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.reader">reader</a></span>
<script>explorer.outline.addDecl('reader');</script>

</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract uint 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.writer">writer</a></span>
<script>explorer.outline.addDecl('writer');</script>
(void[] <span class="funcparam">dst</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>filter-specific 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.writer">writer</a></span>
<script>explorer.outline.addDecl('writer');</script>

</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.bind">bind</a></span>
<script>explorer.outline.addDecl('bind');</script>
(IConduit <span class="funcparam">conduit</span>, IConduitFilter <span class="funcparam">next</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract void 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.unbind">unbind</a></span>
<script>explorer.outline.addDecl('unbind');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><br><br>
</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>interface 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.ISeekable">ISeekable</a></span>
<script>explorer.outline.addDecl('ISeekable');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Models the ability to seek within a conduit.
</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>enum 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.SeekAnchor">SeekAnchor</a></span>
<script>explorer.outline.addDecl('SeekAnchor');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>The anchor positions supported by ISeekable
</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract ulong 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.getPosition">getPosition</a></span>
<script>explorer.outline.addDecl('getPosition');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Return the current conduit position (such as file position)
</font><br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>abstract ulong 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.seek">seek</a></span>
<script>explorer.outline.addDecl('seek');</script>
(ulong <span class="funcparam">offset</span>, SeekAnchor <span class="funcparam">anchor</span> = cast(SeekAnchor)0);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Move the file position to the given <span class="funcparam">offset</span> from the provided
                <span class="funcparam">anchor</span> point, and return the adjusted position.
</font><br><br>

</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>struct 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.ConduitStyle">ConduitStyle</a></span>
<script>explorer.outline.addDecl('ConduitStyle');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Defines how a Conduit should be opened. This is typically subsumed
        by another structure
</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>enum 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.Access">Access</a></span>
<script>explorer.outline.addDecl('Access');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><br><br>

<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>const Bits 
<span class="currsymbol"><a href="http://www.dsource.org/projects/tango/wiki/tango.io.model.IConduit.Read">Read</a></span>
<script>explorer.outline.addDecl('Read');</script>
;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Setup common instances of conduit styles
</font><br><br>

</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
                        Copyright (c) 2004 Kris Bell. All rights reserved

 :: page rendered by CandyDoc
		</td></tr>
	</table>
</div>
<script></script>
</body></html>


