
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>tango.io.Buffer</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
<script>
function anchorFromTitle(title, path, ext) {
  var url = path + title.replace(/\./g, "/") + "." + ext;
  document.write("<a href='" + url + "'>" + title + "</a>");
  }
</script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("tango.io.Buffer");</script>
	<table class="content">
		<tr><td id="docbody"><h1><script>anchorFromTitle('tango.io.Buffer', 'http://dsource.org/projects/tango/browser/trunk/', 'd');</script></h1><!-- Generated by Ddoc from buffer.d -->
<b>License:</b><br>
BSD style: see doc/license.txt for details

<br><br>
<b>Version:</b><br>
Initial release: March 2004

<br><br>
<b>Authors:</b><br>
Kris

<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>class 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.Buffer">Buffer</a></span>
<script>explorer.outline.addDecl('Buffer');</script>
: tango.io.model.IBuffer.IBuffer;
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>The premise behind this IO package is as follows:
</font><br><br>
<font color=black>A central concept is that of a buffer. Each buffer acts
        as a queue (line) where items are removed from the front
        and new items are added to the back. Buffers are modeled
        by tango.io.model.IBuffer, and a concrete implementation
        is provided by this class.
<br><br>

        Buffers can be read and written directly, but a Reader,
        Iterator, and/or Writer are often leveraged to apply
        structure to what might otherwise be simple raw data.
<br><br>

        Readers &amp; writers are bound to a buffer; often the same
        buffer. It's also perfectly legitimate to bind multiple
        readers to the same buffer; they will access buffer
        content serially as one would expect. This also applies to
        multiple writers on the same buffer. Readers and writers
        support three styles of IO: put/get, the C++ style &lt;&lt; &amp;
        &gt;&gt; operators, and the () whisper style. All operations
        can be chained.
<br><br>

        Any class can be made compatable with the reader/writer
        framework by implementing the IReadable and/or IWritable
        interfaces. Each of these specify just a single method.
        Once compatable, the class can simply be passed to the
        reader/writer as if it were native data.
<br><br>

        Buffers may also be tokenized by applying an Iterator.
        This can be handy when one is dealing with text input,
        and/or the content suits a more fluid format than most
        typical readers &amp; writers support. Iterator tokens
        are mapped directly onto buffer content (sliced), making
        them quite efficient in practice. Like Readers, multiple
        iterators can be mapped onto a common buffer; access is
        serialized in a similar fashion.
<br><br>

        Conduits provide virtualized access to external content,
        and represent things like files or Internet connections.
        They are just a different kind of stream. Conduits are
        modelled by tango.io.model.IConduit, and implemented via
        classes FileConduit, SocketConduit, ConsoleConduit, and
        so on. Additional conduit varieties are easy to construct:
        one either subclasses tango.io.Conduit, or implements
        tango.io.model.IConduit ~ depending upon which is the most
        convenient to use. Each conduit reads and writes from/to
        a buffer in big chunks (typically the entire buffer).
<br><br>

        Conduits may have one or more filters attached. These
        will process content as it flows back and forth across
        the conduit. Examples of filters include compression, utf
        transcoding, and endian transformation. These filters
        apply to the entire scope of the conduit, rather than
        being specific to one data-type or another. Specific
        data-type transformations are applied by readers and
        writers instead, and include operations such as
        endian-conversion.
<br><br>

        Buffers are sometimes memory-only, in which case there
        is nothing left to do when a reader (or iterator) hits
        end of buffer conditions. Other buffers are themselves
        bound to a Conduit. When this is the case, a reader will
        eventually cause the buffer to reload via its associated
        conduit. Previous buffer content will thus be lost. The
        same approach is applied to writers, whereby they flush
        the content of a full buffer to a bound conduit before
        continuing. Another variation is that of a memory-mapped
        buffer, whereby the buffer content is mapped directly to
        virtual memory exposed via the OS. This can be used to
        address large files as an array of content.
<br><br>

        Readers &amp; writers may have a transcoder attached. The
        role of a transcoder is to aid in converting between each
        representation of text (utf8, utf16, utf32). They're used
        to normalize string I/O according to a standard text-type.
        By default there is no transcoder attached, and the type
        is therefore considered "raw".
<br><br>

        Direct buffer manipulation typically involves appending,
        as in the following example:
<pre class="d_code">        <font color=grey>// create a small buffer
</font>        <font color=blue>auto</font> buf = <font color=blue>new</font> Buffer (256);

        <font color=blue>auto</font> foo = <font color=navy>"to write some D"</font>;

        <font color=grey>// append some text directly to it
</font>        buf.append(<font color=navy>"now is the time for all good men "</font>).append(foo);
</pre>

        Alternatively, one might use a Writer to append the buffer.
        This is an example of the 'whisper' style supported by the
        IO package:
<pre class="d_code">        <font color=blue>auto</font> write = <font color=blue>new</font> Writer (<font color=blue>new</font> Buffer(256));
        write (<font color=navy>"now is the time for all good men "c</font>) (foo);
</pre>

        Or, using printf-like formatting via a text oriented DisplayWriter:
<pre class="d_code">        <font color=blue>auto</font> write = <font color=blue>new</font> DisplayWriter (<font color=blue>new</font> Buffer(256));
        write.print (<font color=navy>"now is the time for %d good men %s"</font>, 3, foo);
</pre>

        One might use a GrowBuffer instead, where one wishes to append
        beyond the specified size.
<br><br>

        A common usage of a buffer is in conjunction with a conduit,
        such as FileConduit. Each conduit exposes a preferred-size for
        its associated buffers, utilized during buffer construction:
<pre class="d_code">        <font color=blue>auto</font> file = <font color=blue>new</font> FileConduit (<font color=navy>"file.name"</font>);
        <font color=blue>auto</font> buf = <font color=blue>new</font> Buffer (file);
</pre>

        However, this is typically hidden by higher level constructors
        such as those of Reader and Writer derivitives. For example:
<pre class="d_code">        <font color=blue>auto</font> file = <font color=blue>new</font> FileConduit (<font color=navy>"file.name"</font>);
        <font color=blue>auto</font> read = <font color=blue>new</font> Reader (file);
</pre>

        There is indeed a buffer between the Reader and Conduit, but
        explicit construction is unecessary in common cases. See both
        Reader and Writer for examples of formatted IO.
<br><br>

        Stdout is a predefined DisplayWriter, attached to a conduit
        representing the console. Thus, all conduit operations are
        legitimate on Stdout and Stderr. For example:
<pre class="d_code">        Stdout.conduit.copy (<font color=blue>new</font> FileConduit (<font color=navy>"readme.txt"</font>));
</pre>

        Because Stdout is an instance of DisplayWriter, it also has
        support for formatted output:
<pre class="d_code">        Stdout.println (<font color=navy>"now is the time for %d good men %s"</font>, 3, foo);
</pre>

        The Stdout writer is attached to a specific buffer, which in
        turn is attached to a specific conduit. This buffer is known
        as Cout, and it is attached to a conduit representing the
        console. Cout can be used directly, bypassing the writer layer
        if so desired.
<br><br>

        Cout has relatives named Cerr and Cin, which are attached to
        the corresponding console conduits. Writer Stderr, and reader
        Stdin are mapped onto Cerr and Cin respectively, ensuring
        console IO is buffered in one common area.
<pre class="d_code">        Cout (<font color=navy>"what is your name?"</font>);
        <font color=blue>char</font>[] name;
        Cin (name);
        Cout (<font color=navy>"hello "</font>) (name) .newline;
</pre>

        An Iterator is constructed in a similar manner to a Reader; you
        provide it with a buffer or a conduit. There's a variety of
        iterators available in the tango.text package, and they are each
        templated for utf8, utf16, and utf32 ~ this example uses a line
        iterator to sweep a text file:
<pre class="d_code">        <font color=blue>auto</font> file = <font color=blue>new</font> FileConduit (<font color=navy>"file.name"</font>);
        <font color=blue>foreach</font> (line; <font color=blue>new</font> LineIterator (file))
                 Cout(line).newline;
</pre>

        Buffers are useful for many purposes within Mango, but there
        are times when it may be more appropriate to sidestep them. For
        such cases, conduit derivatives (such as FileConduit) support
        direct array-based IO via a pair of read() and write() methods.
        These alternate methods will also invoke any attached filters.
<br><br>


</font><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(IConduit <span class="funcparam">conduit</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Construct a buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">IConduit <span class="funcparam">conduit</span></td>

               
<td>the <span class="funcparam">conduit</span> to buffer</td></tr>
</table><br>
<b>Remarks:</b><br>
Construct a Buffer upon the provided <span class="funcparam">conduit</span>. A relevant
                buffer size is supplied via the provided <span class="funcparam">conduit</span>.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(uint <span class="funcparam">capacity</span> = cast(uint)0);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Construct a buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">uint <span class="funcparam">capacity</span></td>

               
<td>the number of bytes to make available</td></tr>
</table><br>
<b>Remarks:</b><br>
Construct a Buffer with the specified number of bytes.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(void[] <span class="funcparam">data</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Construct a buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void[] <span class="funcparam">data</span></td>

               
<td>the backing array to buffer within</td></tr>
</table><br>
<b>Remarks:</b><br>
Prime buffer with an application-supplied array. There is
                no readable <span class="funcparam">data</span> present, and writing begins at position 0.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>this(void[] <span class="funcparam">data</span>, uint <span class="funcparam">readable</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Construct a buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void[] <span class="funcparam">data</span></td>

               
<td>the backing array to buffer within</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">uint <span class="funcparam">readable</span></td>

               
<td>the number of bytes initially made
                                <span class="funcparam">readable</span></td></tr>
</table><br>
<b>Remarks:</b><br>
Prime buffer with an application-supplied array, and
                indicate how much <span class="funcparam">readable</span> <span class="funcparam">data</span> is already there. A
                write operation will begin writing immediately after
                the existing content.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>static final void 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.error">error</a></span>
<script>explorer.outline.addDecl('error');</script>
(char[] <span class="funcparam">msg</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Generic IOException thrower
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">char[] <span class="funcparam">msg</span></td>

               
<td>a text message describing the exception reason</td></tr>
</table><br>
<b>Remarks:</b><br>
Throw an IOException with the provided message
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>Style 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.getStyle">getStyle</a></span>
<script>explorer.outline.addDecl('getStyle');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access the buffer style
</font><br><br>
<b>Returns:</b><br>
the style of this buffer

<br><br>
<b>Remarks:</b><br>
Return style of buffer. This is either Text, Binary, or Raw.
                The style is initially set via a constructor
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.setValidContent">setValidContent</a></span>
<script>explorer.outline.addDecl('setValidContent');</script>
(void[] <span class="funcparam">data</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Reset the buffer content
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void[] <span class="funcparam">data</span></td>

               
<td>the backing array to buffer within. All content
                        is considered valid</td></tr>
</table><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
Set the backing array with all content readable. Writing
                to this will either flush it to an associated conduit, or
                raise an Eof condition. Use clear() to reset the
                content (make it all writable).
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.setContent">setContent</a></span>
<script>explorer.outline.addDecl('setContent');</script>
(void[] <span class="funcparam">data</span>, uint <span class="funcparam">readable</span> = cast(uint)0);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Reset the buffer content
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void[] <span class="funcparam">data</span></td>

               
<td>the backing array to buffer within</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">uint <span class="funcparam">readable</span></td>

               
<td>the number of bytes within <span class="funcparam">data</span> considered
                                valid</td></tr>
</table><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
Set the backing array with some content <span class="funcparam">readable</span>. Writing
                to this will either flush it to an associated conduit, or
                raise an Eof condition. Use clear() to reset the
                content (make it all writable).
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>void[] 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.get">get</a></span>
<script>explorer.outline.addDecl('get');</script>
(uint <span class="funcparam">size</span>, bool <span class="funcparam">eat</span> = true);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access buffer content
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">uint <span class="funcparam">size</span></td>

               
<td>number of bytes to access</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">bool <span class="funcparam">eat</span></td>

               
<td>whether to consume the content or not</td></tr>
</table><br>
<b>Returns:</b><br>
the corresponding buffer slice when successful, or
                <b>null</b> if there's not enough data available (Eof; Eob).

<br><br>
<b>Remarks:</b><br>
Read a slice of data from the buffer, loading from the
                conduit as necessary. The specified number of bytes is
                sliced from the buffer, and marked as having been read
                when the '<span class="funcparam">eat</span>' parameter is set <b>true</b>. When '<span class="funcparam">eat</span>' is set
                <b>false</b>, the read position is not adjusted.
<br><br>

                Note that the slice cannot be larger than the <span class="funcparam">size</span> of
                the buffer ~ use method get(void[]) instead where you
                simply want the content copied, or use conduit.read()
                to extract directly from an attached conduit.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.get">get</a></span>
<script>explorer.outline.addDecl('get');</script>
(void[] <span class="funcparam">dst</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access buffer content
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void[] <span class="funcparam">dst</span></td>

               
<td>destination of the content</td></tr>
</table><br>
<b>Returns:</b><br>
return the number of bytes read, which will be less than
                <span class="funcparam">dst</span>.length when the content has been consumed (Eof, Eob)
                and zero thereafter.

<br><br>
<b>Remarks:</b><br>
Fill the provided array with content. We try to satisfy
                the request from the buffer content, and read directly
                from an attached conduit where more is required.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.wait">wait</a></span>
<script>explorer.outline.addDecl('wait');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Wait for input
</font><br><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
Wait for something to arrive in the buffer. This may stall
                the current thread forever, although usage of SocketConduit
                will take advantage of the timeout facilities provided there.
<br><br>

                Note that this is not intended to provide 'barrier' style
                semantics for multi-threaded producer/consumer environments.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.append">append</a></span>
<script>explorer.outline.addDecl('append');</script>
(void[] <span class="funcparam">src</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Append content
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void[] <span class="funcparam">src</span></td>

               
<td>the content to append</td></tr>
</table><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
Append an array of data to this buffer, and flush to the
                conduit as necessary. Returns a chaining reference if all
                data was written; throws an IOException indicating eof or
                eob if not.
<br><br>

                This is often used in lieu of a Writer.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.append">append</a></span>
<script>explorer.outline.addDecl('append');</script>
(IBuffer <span class="funcparam">other</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Append content
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">IBuffer <span class="funcparam">other</span></td>

               
<td>a buffer with content available</td></tr>
</table><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
Append another buffer to this one, and flush to the
                conduit as necessary. Returns a chaining reference if all
                data was written; throws an IOException indicating eof or
                eob if not.
<br><br>

                This is often used in lieu of a Writer.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>char[] 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.toString">toString</a></span>
<script>explorer.outline.addDecl('toString');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Retrieve the current content as a string
</font><br><br>
<b>Returns:</b><br>
a char[][ slice of the buffer

<br><br>
<b>Remarks:</b><br>
Return a char[] slice of the buffer, from the current position
                up to the limit of valid content. The content remains in the
                buffer for future extraction.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>bool 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.skip">skip</a></span>
<script>explorer.outline.addDecl('skip');</script>
(int <span class="funcparam">size</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Move the current read location
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">int <span class="funcparam">size</span></td>

               
<td>the number of bytes to move</td></tr>
</table><br>
<b>Returns:</b><br>
Returns <b>true</b> if successful, <b>false</b> otherwise.

<br><br>
<b>Remarks:</b><br>
Skip ahead by the specified number of bytes, streaming from
                the associated conduit as necessary.
<br><br>

                Can also reverse the read position by '<span class="funcparam">size</span>' bytes, when <span class="funcparam">size</span>
                is negative. This may be used to support lookahead operations.
                Note that a negative <span class="funcparam">size</span> will fail where there is not sufficient
                content available in the buffer (can't skip beyond the beginning).
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>bool 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.next">next</a></span>
<script>explorer.outline.addDecl('next');</script>
(uint delegate(void[]) <span class="funcparam">scan</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Iterator support
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">uint delegate(void[]) <span class="funcparam">scan</span></td>

               
<td>the delagate to invoke with the current content</td></tr>
</table><br>
<b>Returns:</b><br>
Returns <b>true</b> if a token was isolated, <b>false</b> otherwise.

<br><br>
<b>Remarks:</b><br>
Upon success, the delegate should return the byte-based
                index of the consumed pattern (tail end of it). Failure
                to match a pattern should be indicated by returning an
                IConduit.Eof
<br><br>

                Each pattern is expected to be stripped of the delimiter.
                An end-of-file condition causes trailing content to be
                placed into the token. Requests made beyond Eof result
                in empty matches (length is zero).
<br><br>

                Note that additional iterator and/or reader instances
                will stay in lockstep when bound to a common buffer.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.readable">readable</a></span>
<script>explorer.outline.addDecl('readable');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Available content
</font><br><br>
<b>Remarks:</b><br>
Return count of readable bytes remaining in buffer. This is
                calculated simply as limit() - position()
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.writable">writable</a></span>
<script>explorer.outline.addDecl('writable');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Available space
</font><br><br>
<b>Remarks:</b><br>
Return count of writable bytes available in buffer. This is
                calculated simply as capacity() - limit()
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.write">write</a></span>
<script>explorer.outline.addDecl('write');</script>
(uint delegate(void[]) <span class="funcparam">dg</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Write into this buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">uint delegate(void[]) <span class="funcparam">dg</span></td>

               
<td>the callback to provide buffer access to</td></tr>
</table><br>
<b>Returns:</b><br>
Returns whatever the delegate returns.

<br><br>
<b>Remarks:</b><br>
Exposes the raw data buffer at the current write position,
                The delegate is provided with a void[] representing space
                available within the buffer at the current write position.
<br><br>

                The delegate should return the appropriate number of bytes
                if it writes valid content, or IConduit.Eof on error.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.read">read</a></span>
<script>explorer.outline.addDecl('read');</script>
(uint delegate(void[]) <span class="funcparam">dg</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Read directly from this buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">uint delegate(void[]) <span class="funcparam">dg</span></td>

               
<td>callback to provide buffer access to</td></tr>
</table><br>
<b>Returns:</b><br>
Returns whatever the delegate returns.

<br><br>
<b>Remarks:</b><br>
Exposes the raw data buffer at the current read position. The
                delegate is provided with a void[] representing the available
                data, and should return zero to leave the current read position
                intact.
<br><br>

                If the delegate consumes data, it should return the number of
                bytes consumed; or IConduit.Eof to indicate an error.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.compress">compress</a></span>
<script>explorer.outline.addDecl('compress');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Compress buffer space
</font><br><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
If we have some data left after an export, move it to
                front-of-buffer and set position to be just after the
                remains. This is for supporting certain conduits which
                choose to write just the initial portion of a request.
<br><br>

                Limit is set to the amount of data remaining. Position
                is always reset to zero.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.fill">fill</a></span>
<script>explorer.outline.addDecl('fill');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Fill buffer from conduit
</font><br><br>
<b>Returns:</b><br>
Returns the number of bytes read, or Eof if there's no
                more data available. Where no conduit is attached, Eof
                is always returned.

<br><br>
<b>Remarks:</b><br>
Try to fill the available buffer with content from the
                attached conduit. In particular, we will never ask to
                read less than 32 bytes. This permits conduit-filters
                to operate within a known environment.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.fill">fill</a></span>
<script>explorer.outline.addDecl('fill');</script>
(IConduit <span class="funcparam">conduit</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Fill buffer from <span class="funcparam">conduit</span>
</font><br><br>
<b>Returns:</b><br>
Returns the number of bytes read, or Conduit.Eof

<br><br>
<b>Remarks:</b><br>
Try to fill the available buffer with content from the
                specified <span class="funcparam">conduit</span>. In particular, we will never ask to
                read less than 32 bytes ~ this permits <span class="funcparam">conduit</span>-filters
                to operate within a known environment. We also try to
                read as much as possible by clearing the buffer when
                all current content has been eaten.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.makeRoom">makeRoom</a></span>
<script>explorer.outline.addDecl('makeRoom');</script>
(uint <span class="funcparam">space</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Try to make <span class="funcparam">space</span> available
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">uint <span class="funcparam">space</span></td>

               
<td>number of bytes required</td></tr>
</table><br>
<b>Returns:</b><br>
The number of bytes actually made available

<br><br>
<b>Remarks:</b><br>
Make some room in the buffer. The requested <span class="funcparam">space</span> is simply
                an indicator of how much is desired. A subclass may or may
                not fulfill the request directly.
<br><br>

                For example, the base-class simply performs a drain() on the
                buffer.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.drain">drain</a></span>
<script>explorer.outline.addDecl('drain');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Drain buffer content
</font><br><br>
<b>Returns:</b><br>
Returns the number of bytes written, or Conduit.Eof

<br><br>
<b>Remarks:</b><br>
Write as much of the buffer that the associated conduit
                can consume. The conduit is not obliged to consume all
                content, so some may remain within the buffer.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.flush">flush</a></span>
<script>explorer.outline.addDecl('flush');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Flush all buffer content
</font><br><br>
<b>Remarks:</b><br>
Flush the contents of this buffer. This will block until
                all content is actually flushed via the associated conduit,
                whereas drain() will not.
<br><br>

                Throws an IOException on premature eof.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.clear">clear</a></span>
<script>explorer.outline.addDecl('clear');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Clear buffer content
</font><br><br>
<b>Returns:</b><br>
the buffer instance

<br><br>
<b>Remarks:</b><br>
Reset 'position' and 'limit' to zero. This effectively clears
                all content from the buffer.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>bool 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.truncate">truncate</a></span>
<script>explorer.outline.addDecl('truncate');</script>
(uint <span class="funcparam">extent</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Truncate buffer content
</font><br><br>
<b>Remarks:</b><br>
Truncate the buffer within its <span class="funcparam">extent</span>. Returns <b>true</b> if
                the new '<span class="funcparam">extent</span>' is valid, <b>false</b> otherwise.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.getLimit">getLimit</a></span>
<script>explorer.outline.addDecl('getLimit');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access buffer limit
</font><br><br>
<b>Returns:</b><br>
Returns the limit of readable content within this buffer.

<br><br>
<b>Remarks:</b><br>
Each buffer has a capacity, a limit, and a position. The
                capacity is the maximum content a buffer can contain, limit
                represents the extent of valid content, and position marks
                the current read location.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.getCapacity">getCapacity</a></span>
<script>explorer.outline.addDecl('getCapacity');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access buffer capacity
</font><br><br>
<b>Returns:</b><br>
Returns the maximum capacity of this buffer

<br><br>
<b>Remarks:</b><br>
Each buffer has a capacity, a limit, and a position. The
                capacity is the maximum content a buffer can contain, limit
                represents the extent of valid content, and position marks
                the current read location.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>uint 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.getPosition">getPosition</a></span>
<script>explorer.outline.addDecl('getPosition');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access buffer read position
</font><br><br>
<b>Returns:</b><br>
Returns the current read-position within this buffer

<br><br>
<b>Remarks:</b><br>
Each buffer has a capacity, a limit, and a position. The
                capacity is the maximum content a buffer can contain, limit
                represents the extent of valid content, and position marks
                the current read location.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IConduit 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.getConduit">getConduit</a></span>
<script>explorer.outline.addDecl('getConduit');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access configured conduit
</font><br><br>
<b>Returns:</b><br>
Returns the conduit associated with this buffer. Returns
                <b>null</b> if the buffer is purely memory based; that is, it's
                not backed by some external medium.

<br><br>
<b>Remarks:</b><br>
Buffers do not require an external conduit to operate, but
                it can be convenient to associate one. For example, methods
                fill() &amp; drain() use it to import/export content as necessary.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>IBuffer 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.setConduit">setConduit</a></span>
<script>explorer.outline.addDecl('setConduit');</script>
(IConduit <span class="funcparam">conduit</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Set external <span class="funcparam">conduit</span>
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">IConduit <span class="funcparam">conduit</span></td>

               
<td>the <span class="funcparam">conduit</span> to attach to</td></tr>
</table><br>
<b>Remarks:</b><br>
Sets the external <span class="funcparam">conduit</span> associated with this buffer.
<br><br>

                Buffers do not require an external <span class="funcparam">conduit</span> to operate, but
                it can be convenient to associate one. For example, methods
                fill() &amp; drain() use it to import/export content as necessary.
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void[] 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.getContent">getContent</a></span>
<script>explorer.outline.addDecl('getContent');</script>
();
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Access buffer content
</font><br><br>
<b>Remarks:</b><br>
Return the entire backing array. Exposed for subclass usage
                only
<br><br>

        
<br><br>

</dd>


<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl"><li>protected void 
<span class="currsymbol"><a href="http://tango.dsource.org/docs/index.php/tango.io.Buffer.copy">copy</a></span>
<script>explorer.outline.addDecl('copy');</script>
(void* <span class="funcparam">src</span>, uint <span class="funcparam">size</span>);
</li></span></dt>
<script>explorer.outline.writeEnabled = false;</script>

<dd><font color=black>Copy content into buffer
</font><br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">void* <span class="funcparam">src</span></td>

               
<td>the soure of the content</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">uint <span class="funcparam">size</span></td>

               
<td>the length of content at <span class="funcparam">src</span></td></tr>
</table><br>
<b>Remarks:</b><br>
Bulk copy of data from '<span class="funcparam">src</span>'. The new content is made
                available for reading. This is exposed for subclass use
                only
<br><br>

        
<br><br>

</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
			Page was generated with
			<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">
			on Fri Jun  9 14:18:24 2006

		</td></tr>
	</table>
</div>
<script>
	explorer.packageExplorer.addModule("tango.io.Buffer");

	explorer.packageExplorer.addModule("tango.io.Conduit");

	explorer.packageExplorer.addModule("tango.io.Console");

	explorer.packageExplorer.addModule("tango.io.DeviceConduit");

	explorer.packageExplorer.addModule("tango.io.Exception");

	explorer.packageExplorer.addModule("tango.io.File");

	explorer.packageExplorer.addModule("tango.io.FileConduit");

	explorer.packageExplorer.addModule("tango.io.FileConst");

	explorer.packageExplorer.addModule("tango.io.FilePath");

	explorer.packageExplorer.addModule("tango.io.FileProxy");

	explorer.packageExplorer.addModule("tango.io.FileScan");

	explorer.packageExplorer.addModule("tango.io.FileSystem");

	explorer.packageExplorer.addModule("tango.io.GrowBuffer");

	explorer.packageExplorer.addModule("tango.io.MappedBuffer");

	explorer.packageExplorer.addModule("tango.io.Stdout");

	explorer.packageExplorer.addModule("tango.io.UnicodeFile");


	explorer.packageExplorer.addModule("tango.io.model.IBuffer");


	explorer.packageExplorer.addModule("tango.locale.collation");

	explorer.packageExplorer.addModule("tango.locale.constants");

	explorer.packageExplorer.addModule("tango.locale.core");

	explorer.packageExplorer.addModule("tango.locale.format");
</script>
</body></html>


